{"config":{"lang":["ja"],"separator":"[\\s\\-\uff0c\u3002]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u8fd9\u662f\u641c\u7d22\u5f15\u64ce\u5927\u4f5c\u4e1a\u7684\u6587\u6863","text":""},{"location":"#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"0.%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E8%AE%BE%E8%AE%A1/1.%20%E6%9E%B6%E6%9E%84/","title":"1.\u67b6\u6784","text":"<p>\u8003\u8651\u5982\u4e0bapp\u7ed3\u6784:</p> <ol> <li>\u6570\u636e\u6293\u53d6app: \u8d1f\u8d23\u722c\u866b\u7b49\u6293\u53d6\u6570\u636e,\u53ef\u4ee5\u7b80\u5355\u8d77\u540d\u4e3acrawlers\u3002</li> <li>\u5185\u5bb9\u7d22\u5f15app: \u8d1f\u8d23\u5bf9\u6293\u53d6\u7684\u6570\u636e\u5efa\u7acb\u7d22\u5f15,\u53ef\u4ee5\u8d77\u540d\u4e3aindexes\u3002\u8fd9\u4e2aapp\u5305\u542b\u7d22\u5f15\u6a21\u578bIndex\u548c\u7d22\u5f15API IndexAPIView\u7b49\u3002</li> <li>\u5185\u5bb9\u68c0\u7d22app: \u8d1f\u8d23\u63d0\u4f9b\u5185\u5bb9\u641c\u7d22API,\u53ef\u4ee5\u8d77\u540d\u4e3asearch\u3002\u8fd9\u4e2aapp\u8c03\u7528indexes app\u7684API\u8fdb\u884c\u641c\u7d22\u548c\u8fc7\u6ee4\u3002</li> <li>\u94fe\u63a5\u5206\u6790app: \u8d1f\u8d23\u7f51\u9875\u94fe\u63a5\u5206\u6790,\u6293\u53d6\u94fe\u63a5\u6570\u636e\u5e76\u5206\u6790,\u53ef\u4ee5\u8d77\u540d\u4e3alink_analysis\u3002</li> </ol> <p>\u6240\u4ee5\u9879\u76ee\u7684app\u7ed3\u6784\u53ef\u4ee5\u5982\u4e0b:     - crawlers: \u6570\u636e\u6293\u53d6     - indexes: \u5185\u5bb9\u7d22\u5f15     - search: \u5185\u5bb9\u68c0\u7d22     - link_analysis: \u94fe\u63a5\u5206\u6790</p> <p>\u5728\u9879\u76ee\u7684\u8bbe\u7f6e\u4e2d,\u5c06\u8fd94\u4e2aapp\u90fd\u52a0\u5165\u5230INSTALLED_APPS\u4e2d\u3002 \u8fd9\u6837\u7684\u7ed3\u6784\u6e05\u6670\u5730\u5c06\u641c\u7d22\u5f15\u64ce\u76844\u5927\u529f\u80fd\u9762\u5206\u79bb\u5230\u72ec\u7acb\u7684app\u4e2d,\u5229\u4e8e\u5f00\u53d1\u548c\u7ef4\u62a4\u3002 \u6bcf\u4e2aapp\u90fd\u6709\u660e\u786e\u7684\u804c\u8d23,\u677e\u8026\u5408\u4e14\u53ef\u91cd\u7528\u3002</p> <p>\u53ef\u4ee5\u6539\u8fdb\u7684\u65b9\u5411: 1. \u5c06\u516c\u5171\u6a21\u578b(\u5982Index)\u63d0\u53d6\u5230\u5171\u7528app\u4e2d,\u5982common app\u3002 2. \u4f7f\u7528Django REST Framework\u63d0\u4f9b\u7684\u89c6\u56fe\u96c6ViewSet\u7b49\u8fdb\u4e00\u6b65\u7b80\u5316URL\u5b9a\u4e49\u3002 3. search app\u5185\u53ef\u4ee5\u518d\u5212\u5206\u5b50app,\u5982query_parse\u8d1f\u8d23\u67e5\u8be2\u89e3\u6790,search\u8d1f\u8d23\u641c\u7d22\u7ed3\u679c\u8fd4\u56de\u7b49\u3002\u8fd9\u6837\u53ef\u4ee5\u66f4\u52a0\u6e05\u6670\u5730\u5212\u5206\u804c\u8d23,\u4f7f\u6bcf\u4e2aapp\u90fd\u4e13\u6ce8\u4e8e\u67d0\u4e2a\u8f83\u5c0f\u7684\u529f\u80fd\u70b9\u3002 4. \u4f7f\u7528Elasticsearch\u7b49\u641c\u7d22\u5f15\u64ce,\u5728\u9879\u76ee\u4e2d\u521b\u5efa\u4e00\u4e2aelasticsearch app\u8fdb\u884c\u63a5\u53e3\u5b9a\u4e49\u548c\u5c01\u88c5\u3002\u8fd9\u6837\u641c\u7d22\u5f15\u64ce\u7684\u5177\u4f53\u5b9e\u73b0\u7ec6\u8282\u53ef\u4ee5\u4e0e\u4f60\u7684\u9879\u76ee\u7ed3\u6784\u89e3\u8026,\u5229\u4e8e\u8fc1\u79fb\u548c\u4f18\u5316\u3002 5. \u9664\u4e86\u529f\u80fd\u6027app\u5916,\u53ef\u4ee5\u8003\u8651\u521b\u5efa\u4e00\u4e9b\u5e95\u5c42\u516c\u5171app,\u5982exceptions\u7528\u4e8e\u5b9a\u4e49\u9879\u76ee\u516c\u5171\u5f02\u5e38,constants\u7528\u4e8e\u5b9a\u4e49\u5e38\u91cf,mixins\u7528\u4e8e\u5b9a\u4e49\u516c\u5171mixin\u7b49\u3002\u8fd9\u53ef\u4ee5\u63d0\u9ad8\u9879\u76ee\u7684\u53ef\u91cd\u7528\u6027\u548c\u4e00\u81f4\u6027\u3002 6. \u4f7f\u7528\u7f13\u5b58\u673a\u5236,\u5982Redis\u7b49\u3002\u641c\u7d22\u5f15\u64ce\u6d89\u53ca\u5927\u91cf\u7684\u6570\u636e\u67e5\u8be2\u548c\u5904\u7406,\u4f7f\u7528\u7f13\u5b58\u53ef\u4ee5\u5927\u5e45\u63d0\u9ad8\u6027\u80fd\u8868\u73b0\u3002 7. \u589e\u52a0\u65e5\u5fd7\u6a21\u5757,\u4f7f\u7528Python\u81ea\u5e26\u7684logging\u6216\u8005\u5176\u4ed6\u65e5\u5fd7\u5e93\u8fdb\u884c\u65e5\u5fd7\u6536\u96c6\u3001\u89e3\u6790\u548c\u5b58\u50a8\u3002\u8fd9\u5bf9\u590d\u6742\u9879\u76ee\u7684\u7ef4\u62a4\u548c\u8c03\u8bd5\u975e\u5e38\u91cd\u8981\u3002</p> <p>\u516c\u5171\u6a21\u578b\uff1a\u5982\u679c\u591a\u4e2aapp\u9700\u8981\u5171\u7528\u67d0\u4e9b\u6a21\u578b,\u6bd4\u5982\u8fd9\u91cc\u7684Index\u6a21\u578b,\u90a3\u4e48\u53ef\u4ee5\u8003\u8651\u4e0d\u5c06\u5176\u653e\u5728\u4efb\u4f55\u4e00\u4e2a\u529f\u80fd\u6027app\u4e2d,\u800c\u662f\u521b\u5efa\u4e00\u4e2a\u72ec\u7acb\u7684common app\u7528\u4e8e\u5b58\u653e\u8fd9\u4e9b\u516c\u5171\u6a21\u578b\u3002 1. \u907f\u514d\u91cd\u590d\u5b9a\u4e49\u6a21\u578b\u3002\u5982\u679cIndex\u6a21\u578b\u5728indexes\u548csearch app\u4e2d\u5747\u5b9a\u4e49,\u90a3\u4e48\u4fee\u6539\u65f6\u9700\u8981\u540c\u6b65\u66f4\u65b0,\u5bb9\u6613\u9020\u6210\u91cd\u590d\u52b3\u52a8\u548c\u4e00\u81f4\u6027\u95ee\u9898\u3002 2. \u516c\u5171\u6a21\u578b\u53ef\u4ee5\u88ab\u591a\u4e2aapp\u5171\u4eab\u548c\u590d\u7528\u3002placed\u5728common app\u4e2d,\u4efb\u610fapp\u90fd\u53ef\u4ee5\u5bfc\u5165\u548c\u4f7f\u7528\u3002</p> <p>\u56e0\u6b64\uff0c\u6700\u7ec8\u7684\u67b6\u6784\uff08version1\uff09\uff1a     - common: \u516c\u5171\u6a21\u578b     - crawlers: \u6570\u636e\u6293\u53d6     - indexes: \u5185\u5bb9\u7d22\u5f15     - search: \u5185\u5bb9\u68c0\u7d22         - query_parse: \u67e5\u8be2\u89e3\u6790         - do_search: \u68c0\u7d22     - link_analysis: \u94fe\u63a5\u5206\u6790</p>"},{"location":"0.%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E8%AE%BE%E8%AE%A1/2.%20%E4%B8%80%E4%B8%AA%E4%BE%8B%E5%AD%90/","title":"2. \u4e00\u4e2a\u4f8b\u5b50","text":"<p>```&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;</p> <p> <p>  ```</p>"},{"location":"0.%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E8%AE%BE%E8%AE%A1/3.%20%E5%88%86%E6%9E%90%E6%96%87%E4%B9%A6/","title":"2.\u5206\u6790\u6587\u4e66","text":"<p>\u6587\u9996\u6709\u5f88\u591a\u6587\u4e66\u7684\u5173\u952e\u4fe1\u606f\uff1a</p> <pre><code>&lt;WS nameCN=\"\u6587\u9996\" value=\"\u6d59\u6c5f\u7701\u4e1c\u9633\u5e02\u4eba\u6c11\u6cd5\u9662 \u6c11\u4e8b\u5224\u51b3\u4e66 \uff082016\uff09\u6d590783\u6c11\u521d17571\u53f7 \"&gt;  \n    &lt;WSZZDW nameCN=\"\u6587\u4e66\u5236\u4f5c\u5355\u4f4d\" value=\"\u6cd5\u9662\"/&gt;  \n    &lt;FYWSZL nameCN=\"\u6cd5\u9662\u6587\u4e66\u79cd\u7c7b\" value=\"\u88c1\u5224\u6587\u4e66\"/&gt;  \n    &lt;JBFY nameCN=\"\u7ecf\u529e\u6cd5\u9662\" value=\"\u6d59\u6c5f\u7701\u4e1c\u9633\u5e02\u4eba\u6c11\u6cd5\u9662\"&gt;  \n        &lt;FYCJM nameCN=\"\u6cd5\u9662\u5c42\u7ea7\u7801\" value=\"B84\"/&gt;  \n        &lt;BZFYMC nameCN=\"\u6807\u51c6\u6cd5\u9662\u540d\u79f0\" value=\"\u4e1c\u9633\u5e02\u4eba\u6c11\u6cd5\u9662\"/&gt;  \n        &lt;FYJB nameCN=\"\u6cd5\u9662\u7ea7\u522b\" value=\"\u57fa\u5c42\"/&gt;  \n        &lt;XZQH_P nameCN=\"\u884c\u653f\u533a\u5212(\u7701)\" value=\"\u6d59\u6c5f\"/&gt;  \n        &lt;XZQH_C nameCN=\"\u884c\u653f\u533a\u5212(\u5e02)\" value=\"\u91d1\u534e\u5e02\"/&gt;  \n    &lt;/JBFY&gt;  \n    &lt;WSMC nameCN=\"\u6587\u4e66\u540d\u79f0\" value=\"\u6c11\u4e8b\u5224\u51b3\u4e66\"/&gt;  \n    &lt;AH nameCN=\"\u6848\u53f7\" value=\"\uff082016\uff09\u6d590783\u6c11\u521d17571\u53f7\"&gt;  \n        &lt;ZH nameCN=\"\u5b57\u53f7\" value=\"\u6c11\u521d\u5b57\"/&gt;  \n        &lt;AJLB_YJ nameCN=\"\u6848\u4ef6\u7c7b\u578b_\u4e00\u7ea7\" value=\"\u6c11\u4e8b\u6848\u4ef6\"&gt;  \n            &lt;AJLB_EJ nameCN=\"\u6848\u4ef6\u7c7b\u578b_\u4e8c\u7ea7\" value=\"\u6c11\u4e8b\u4e00\u5ba1\u6848\u4ef6\"/&gt;  \n        &lt;/AJLB_YJ&gt;  \n        &lt;LAND nameCN=\"\u7acb\u6848\u5e74\u5ea6\" value=\"2016\"/&gt;  \n        &lt;FYJC nameCN=\"\u6cd5\u9662\u7b80\u79f0\" value=\"\u6d590783\"/&gt;  \n        &lt;AHSXH nameCN=\"\u6848\u53f7\u987a\u5e8f\u53f7\" value=\"17571\"/&gt;  \n    &lt;/AH&gt;  \n    &lt;AJLB nameCN=\"\u6848\u4ef6\u7c7b\u522b\" value=\"\u6c11\u4e8b\u6848\u4ef6\"/&gt;  \n    &lt;WSZL nameCN=\"\u6587\u4e66\u79cd\u7c7b\" value=\"\u5224\u51b3\u4e66\"/&gt;  \n    &lt;SPCX nameCN=\"\u5ba1\u5224\u7a0b\u5e8f\" value=\"\u4e00\u5ba1\u6848\u4ef6\"/&gt;  \n    &lt;AJLX nameCN=\"\u6848\u4ef6\u7c7b\u578b\" value=\"\u6c11\u4e8b\u4e00\u5ba1\u6848\u4ef6\"/&gt;  \n&lt;/WS&gt;\n</code></pre> <p>\u8dd1\u4e86\u4e00\u904d\uff1a</p> <pre><code>WSZZDW: [\"\u6cd5\u9662\", \"\u53f8\u6cd5\u884c\u653f\", \"\u68c0\u5bdf\u9662\"]\nWSZL: [\"\u88c1\u5b9a\u4e66\", \"\u6682\u4e88\u76d1\u5916\u6267\u884c\u6848\u4f8b\", \"\u4e0d\u8d77\u8bc9\u4e66\", \"\u51b3\u5b9a\u4e66\", \"\u8d77\u8bc9\u72b6\", \"\u8c03\u89e3\u4e66\", \"\u8d77\u8bc9\u4e66\", \"\u5e94\u8bc9\u901a\u77e5\u4e66\", \"\u5224\u51b3\u4e66\"]\nFYWSZL: [\"\u8d77\u8bc9\u72b6\", \"\u88c1\u5224\u6587\u4e66\", \"\u901a\u77e5\u4e66\", \"\u51b3\u5b9a\u4e66\"]\nAJLB: [\"\u884c\u653f\u6848\u4ef6\", \"\u5211\u7f5a\u53d8\u66f4\u6848\u4ef6\", \"\u8d54\u507f\u6848\u4ef6\", \"\u5211\u4e8b\u6848\u4ef6\", \"\u6267\u884c\u6848\u4ef6\", \"\u6c11\u4e8b\u6848\u4ef6\"]\nAJLX: [\"\u6267\u884c\u5f02\u8bae\u6848\u4ef6\", \"\u5211\u7f5a\u53d8\u66f4\u6848\u4ef6\", \"\u6c11\u4e8b\u5176\u4ed6\u6848\u4ef6\", \"\u6c11\u4e8b\u518d\u5ba1\u6848\u4ef6\", \"\u6267\u884c\u590d\u8bae\u6848\u4ef6\", \"\u8d54\u507f\u786e\u8ba4\u6848\u4ef6\", \"\u884c\u653f\u975e\u8bc9\u6267\u884c\u5ba1\u67e5\u6848\u4ef6\", \"\u666e\u901a\u6267\u884c\u6848\u4ef6\", \"\u5211\u4e8b\u8bc9\u8bbc\u4fdd\u5168\u6848\u4ef6\", \"\u7834\u4ea7\u6848\u4ef6\", \"\u5211\u4e8b\u5176\u4ed6\u6848\u4ef6\", \"\u884c\u653f\u518d\u5ba1\u6848\u4ef6\", \"\u6c11\u4e8b\u8bc9\u8bbc\u4fdd\u5168\u6848\u4ef6\", \"\u6c11\u4e8b\u518d\u5ba1\u590d\u67e5\u4e0e\u5ba1\u5224\u76d1\u7763\u6848\u4ef6\", \"\u6c11\u4e8b\u7279\u522b\u7a0b\u5e8f\u6848\u4ef6\", \"\u8d54\u507f\u6848\u4ef6\", \"\u884c\u653f\u4e8c\u5ba1\u6848\u4ef6\", \"\u5211\u4e8b\u590d\u6838\u6848\u4ef6\", \"\u5211\u4e8b\u4e00\u5ba1\u6848\u4ef6\", \"\u6c11\u4e8b\u4e8c\u5ba1\u6848\u4ef6\", \"\u884c\u653f\u4e00\u5ba1\u6848\u4ef6\", \"\u6c11\u4e8b\u4e00\u5ba1\u6848\u4ef6\", \"\u884c\u653f\u518d\u5ba1\u590d\u67e5\u4e0e\u5ba1\u5224\u76d1\u7763\u6848\u4ef6\", \"\u5211\u4e8b\u518d\u5ba1\u6848\u4ef6\", \"\u5211\u4e8b\u518d\u5ba1\u590d\u67e5\u4e0e\u5ba1\u5224\u76d1\u7763\u6848\u4ef6\", \"\u5211\u4e8b\u4e8c\u5ba1\u6848\u4ef6\", \"\u884c\u653f\u5176\u4ed6\u6848\u4ef6\"]\nSPCX: [\"\u518d\u5ba1\u6848\u4ef6\", \"\u518d\u5ba1\u590d\u67e5\u4e0e\u5ba1\u5224\u76d1\u7763\u6848\u4ef6\", \"\u590d\u6838\u6848\u4ef6\", \"\u5211\u7f5a\u53d8\u66f4\u6848\u4ef6\", \"\u7834\u4ea7\u6848\u4ef6\", \"\u4e8c\u5ba1\u6848\u4ef6\", \"\u7279\u522b\u7a0b\u5e8f\u6848\u4ef6\", \"\u5f3a\u5236\u533b\u7597\u6848\u4ef6\", \"\u4e00\u5ba1\u6848\u4ef6\", \"\u975e\u8bc9\u6267\u884c\u5ba1\u67e5\u6848\u4ef6\"]\n......\n</code></pre> <pre><code>\u5bf9\u5e94\u7684\u4f8b\u5b50\n\u6587\u4e66\u5236\u4f5c\u5355\u4f4d\uff1a{\"\u6cd5\u9662\": \"18697.xml\", \"\u68c0\u5bdf\u9662\": \"19102.xml\", \"\u53f8\u6cd5\u884c\u653f\": \"86961.xml\"}\n\n\u6587\u4e66\u79cd\u7c7b\uff1a{\"\u5224\u51b3\u4e66\": \"18697.xml\", \"\u88c1\u5b9a\u4e66\": \"18798.xml\", \"\u8d77\u8bc9\u4e66\": \"19102.xml\", \"\u51b3\u5b9a\u4e66\": \"20586.xml\", \"\u4e0d\u8d77\u8bc9\u4e66\": \"23027.xml\", \"\u8c03\u89e3\u4e66\": \"23499.xml\", \"\u5e94\u8bc9\u901a\u77e5\u4e66\": \"39048.xml\", \"\u8d77\u8bc9\u72b6\": \"46374.xml\", \"\u6682\u4e88\u76d1\u5916\u6267\u884c\u6848\u4f8b\": \"86961.xml\"}\n\n\u6cd5\u9662\u6587\u4e66\u79cd\u7c7b\uff1a{\"\u88c1\u5224\u6587\u4e66\": \"18697.xml\", \"\u51b3\u5b9a\u4e66\": \"22085.xml\", \"\u901a\u77e5\u4e66\": \"39048.xml\", \"\u8d77\u8bc9\u72b6\": \"46374.xml\"}\n\n\u6848\u4ef6\u7c7b\u522b\uff1a{\"\u6c11\u4e8b\u6848\u4ef6\": \"18697.xml\", \"\u884c\u653f\u6848\u4ef6\": \"18798.xml\", \"\u5211\u4e8b\u6848\u4ef6\": \"18914.xml\", \"\u6267\u884c\u6848\u4ef6\": \"19148.xml\", \"\u5211\u7f5a\u53d8\u66f4\u6848\u4ef6\": \"22085.xml\", \"\u8d54\u507f\u6848\u4ef6\": \"24025.xml\"}\n\n\u6848\u4ef6\u7c7b\u578b\uff1a{\"\u6c11\u4e8b\u4e00\u5ba1\u6848\u4ef6\": \"18697.xml\", \"\u884c\u653f\u4e00\u5ba1\u6848\u4ef6\": \"18798.xml\", \"\u6c11\u4e8b\u4e8c\u5ba1\u6848\u4ef6\": \"18853.xml\", \"\u5211\u7f5a\u53d8\u66f4\u6848\u4ef6\": \"18914.xml\", \"\u5211\u4e8b\u4e8c\u5ba1\u6848\u4ef6\": \"18935.xml\", \"\u5211\u4e8b\u4e00\u5ba1\u6848\u4ef6\": \"18976.xml\", \"\u6c11\u4e8b\u518d\u5ba1\u6848\u4ef6\": \"19025.xml\", \"\u666e\u901a\u6267\u884c\u6848\u4ef6\": \"19148.xml\", \"\u6c11\u4e8b\u518d\u5ba1\u590d\u67e5\u4e0e\u5ba1\u5224\u76d1\u7763\u6848\u4ef6\": \"19254.xml\", \"\u6c11\u4e8b\u5176\u4ed6\u6848\u4ef6\": \"19321.xml\", \"\u6c11\u4e8b\u8bc9\u8bbc\u4fdd\u5168\u6848\u4ef6\": \"19361.xml\", \"\u884c\u653f\u518d\u5ba1\u590d\u67e5\u4e0e\u5ba1\u5224\u76d1\u7763\u6848\u4ef6\": \"19408.xml\", \"\u884c\u653f\u4e8c\u5ba1\u6848\u4ef6\": \"19442.xml\", \"\u6267\u884c\u5f02\u8bae\u6848\u4ef6\": \"19453.xml\", \"\u5211\u4e8b\u518d\u5ba1\u6848\u4ef6\": \"19466.xml\", \"\u884c\u653f\u5176\u4ed6\u6848\u4ef6\": \"19583.xml\", \"\u6267\u884c\u590d\u8bae\u6848\u4ef6\": \"20008.xml\", \"\u5211\u4e8b\u5176\u4ed6\u6848\u4ef6\": \"20039.xml\", \"\u5211\u4e8b\u518d\u5ba1\u590d\u67e5\u4e0e\u5ba1\u5224\u76d1\u7763\u6848\u4ef6\": \"20586.xml\", \"\u5211\u4e8b\u590d\u6838\u6848\u4ef6\": \"21479.xml\", \"\u884c\u653f\u518d\u5ba1\u6848\u4ef6\": \"22462.xml\", \"\u6c11\u4e8b\u7279\u522b\u7a0b\u5e8f\u6848\u4ef6\": \"23228.xml\", \"\u8d54\u507f\u6848\u4ef6\": \"24025.xml\", \"\u8d54\u507f\u786e\u8ba4\u6848\u4ef6\": \"26678.xml\", \"\u884c\u653f\u975e\u8bc9\u6267\u884c\u5ba1\u67e5\u6848\u4ef6\": \"32311.xml\", \"\u5211\u4e8b\u8bc9\u8bbc\u4fdd\u5168\u6848\u4ef6\": \"45535.xml\", \"\u7834\u4ea7\u6848\u4ef6\": \"49573.xml\"}\n\n\u5ba1\u5224\u7a0b\u5e8f\uff1a{\"\u4e00\u5ba1\u6848\u4ef6\": \"18697.xml\", \"\u4e8c\u5ba1\u6848\u4ef6\": \"18853.xml\", \"\u5211\u7f5a\u53d8\u66f4\u6848\u4ef6\": \"18914.xml\", \"\u518d\u5ba1\u6848\u4ef6\": \"19025.xml\", \"\u518d\u5ba1\u590d\u67e5\u4e0e\u5ba1\u5224\u76d1\u7763\u6848\u4ef6\": \"19254.xml\", \"\u590d\u6838\u6848\u4ef6\": \"21479.xml\", \"\u7279\u522b\u7a0b\u5e8f\u6848\u4ef6\": \"23228.xml\", \"\u5f3a\u5236\u533b\u7597\u6848\u4ef6\": \"25912.xml\", \"\u975e\u8bc9\u6267\u884c\u5ba1\u67e5\u6848\u4ef6\": \"32311.xml\", \"\u7834\u4ea7\u6848\u4ef6\": \"49573.xml\"}\n</code></pre> <p>\u4e0b\u9762\u5206\u6790\u4e0d\u540c\u79cd\u7c7b\u6587\u4e66\u7684\u7ed3\u6784\u3002</p>"},{"location":"1.%E4%B8%8D%E5%90%8C%E6%96%87%E4%B9%A6%E5%88%86%E6%9E%90/%E5%8F%B8%E6%B3%95%E8%A1%8C%E6%94%BF/%E6%9A%82%E4%BA%88%E7%9B%91%E5%A4%96%E6%89%A7%E8%A1%8C%E6%A1%88%E4%BE%8B/","title":"\u6682\u4e88\u76d1\u5916\u6267\u884c\u6848\u4f8b","text":"<p>\u51711 \u5168\u6587     \u6587\u9996         \u6587\u4e66\u5236\u4f5c\u5355\u4f4d(\u53f8\u6cd5\u884c\u653f)         \u53f8\u6cd5\u884c\u653f\u6587\u4e66\u79cd\u7c7b(\u76d1\u72f1\u5de5\u4f5c)         \u6587\u4e66\u79cd\u7c7b     \u6848\u4ef6\u57fa\u672c\u60c5\u51b5     \u6848\u4ef6\u529e\u7406\u8fc7\u7a0b     \u6848\u4ef6\u529e\u7406\u7ed3\u679c         \u88c1\u5224\u65f6\u95f4     \u6848\u53f7 \u9644\u52a0\u6bb5</p>"},{"location":"1.%E4%B8%8D%E5%90%8C%E6%96%87%E4%B9%A6%E5%88%86%E6%9E%90/%E6%A3%80%E5%AF%9F%E9%99%A2/1.%20%E8%B5%B7%E8%AF%89%E4%B9%A6/","title":"1. \u8d77\u8bc9\u4e66","text":"<p>\u51711579 \u5168\u6587     \u6587\u9996         \u6587\u4e66\u5236\u4f5c\u5355\u4f4d(\u68c0\u5bdf\u9662)         \u6587\u4e66\u79cd\u7c7b         \u6587\u4e66\u540d\u79f0         \u6848\u4ef6\u7c7b\u522b         \u6848\u53f7         \u627f\u529e\u673a\u5173         \u884c\u653f\u533a\u5212\u4ee3\u7801         \u884c\u653f\u533a\u5212_\u7701         \u884c\u653f\u533a\u5212_\u5e02         \u884c\u653f\u533a\u5212_\u533a\u53bf         \u884c\u653f\u673a\u5173_\u7ea7\u522b     \u5f53\u4e8b\u4eba\u6bb5         \u88ab\u544a\u4eba\u4fe1\u606f             \u59d3\u540d             \u6027\u522b             \u56fd\u7c4d             \u8eab\u4efd\u8bc1\u4ef6                 \u79cd\u7c7b                 \u53f7\u7801             \u51fa\u751f\u65e5\u671f             \u6c11\u65cf             \u6587\u5316\u7a0b\u5ea6             \u653f\u6cbb\u9762\u8c8c             \u6237\u7c4d\u6240\u5728\u5730                 \u6237\u7c4d\u884c\u653f\u533a\u5212             \u4f4f\u5740             \u5355\u4f4d\u804c\u52a1                 \u5355\u4f4d                 \u804c\u52a1             \u524d\u79d1\u52a3\u8ff9\u60c5\u51b5(NULL)                 \u5904\u7f6e\u65f6\u95f4                 \u5904\u7f6e\u539f\u56e0\u7ec4                     \u539f\u56e0 x N                 \u4e3b\u5211\u60c5\u51b5                     \u79cd\u7c7b                     \u5211\u671f                 \u9644\u52a0\u5211\u60c5\u51b5                     \u79cd\u7c7b                 \u91ca\u653e\u65e5\u671f                 \u524d\u79d1\u7c7b\u522b             \u5f3a\u5236\u63aa\u65bd\u4fe1\u606f                 \u6324\u538b\u65e5\u671f                 \u5f3a\u5236\u63aa\u65bd\u8bb0\u5f55                     \u63aa\u65bd\u79cd\u7c7b                     \u5b9e\u65bd\u65e5\u671f                     \u5b9e\u65bd\u673a\u5173             \u5f53\u4e8b\u4eba\u7c7b\u578b(\u6cd5\u4eba \u81ea\u7136\u4eba)     \u6848\u4ef6\u57fa\u672c\u60c5\u51b5\u6bb5         \u8d77\u8bc9\u6848\u7531         \u4fa6\u67e5\u673a\u5173         \u79fb\u9001\u5ba1\u67e5\u8d77\u8bc9         \u5ef6\u957f\u6b21\u6570         \u9000\u8865\u6b21\u6570         \u79fb\u9001\u5ba1\u67e5\u8d77\u8bc9\u65f6\u95f4         \u901f\u88c1\u7a0b\u5e8f\u6743\u5229\u544a\u77e5\u4e66\u65f6\u95f4     \u6848\u4ef6\u4e8b\u5b9e\u6bb5         \u72af\u7f6a\u4e8b\u5b9e         \u6848\u4ef6\u65f6\u95f4\u70b9 x N             \u65e5\u671f             \u884c\u4e3a         \u8bc1\u636e\u5217\u8868(NULL)     \u8d77\u8bc9\u5206\u6790\u6bb5         \u8d77\u8bc9\u8bb0\u5f55             \u88ab\u544a\u4eba\u59d3\u540d             \u88ab\u544a\u4eba\u7f6a\u540d_\u8303\u56f4                 \u7f6a\u540d                     \u7f6a\u540d\u4ee3\u7801                     \u5b8c\u6574\u7f6a\u540d                     \u5206\u7ea7\u7801             \u8fdd\u53cd\u6cd5\u5f8b\u6761\u6587 x N             \u91cf\u5211\u6cd5\u5f8b\u4f9d\u636e x N         \u8bc9\u8bbc\u6cd5\u5f8b\u4f9d\u636e     \u6587\u5c3e         \u9644\u5f55\u6bb5             ......         \u68c0\u67e5\u7ec4\u7ec7             \u68c0\u67e5\u4eba\u5458\u8bb0\u5f55 xN                 \u89d2\u8272                 \u59d3\u540d             \u8d77\u8bc9\u65e5\u671f             \u8bc9\u81f3\u6cd5\u9662 \u9644\u52a0\u6bb5     \u6848\u4ef6\u7c7b\u522b     \u6848\u7531         \u7f6a\u540d\u4ee3\u7801         \u5b8c\u6574\u7f6a\u540d         \u5206\u7ea7\u7801 \u81ea\u5b9a\u4e49</p>"},{"location":"1.%E4%B8%8D%E5%90%8C%E6%96%87%E4%B9%A6%E5%88%86%E6%9E%90/%E6%A3%80%E5%AF%9F%E9%99%A2/2.%20%E4%B8%8D%E8%B5%B7%E8%AF%89%E4%B9%A6/","title":"2. \u4e0d\u8d77\u8bc9\u4e66","text":"<p>\u5171327 \u5168\u6587     \u6587\u9996         \u6587\u4e66\u5236\u4f5c\u5355\u4f4d(\u68c0\u5bdf\u9662)         \u6587\u4e66\u79cd\u7c7b         \u6587\u4e66\u540d\u79f0         \u6848\u4ef6\u7c7b\u522b         \u6848\u53f7         \u627f\u529e\u673a\u5173         \u884c\u653f\u533a\u5212\u4ee3\u7801         \u884c\u653f\u533a\u5212_\u7701         \u884c\u653f\u533a\u5212_\u5e02         \u884c\u653f\u533a\u5212_\u533a\u53bf         \u884c\u653f\u673a\u5173_\u7ea7\u522b     \u5f53\u4e8b\u4eba\u6bb5         \u88ab\u544a\u4eba\u4fe1\u606f             \u59d3\u540d             \u6027\u522b             \u56fd\u7c4d             \u8eab\u4efd\u8bc1\u4ef6                 \u79cd\u7c7b                 \u53f7\u7801             \u51fa\u751f\u65e5\u671f             \u6c11\u65cf             \u6587\u5316\u7a0b\u5ea6             \u653f\u6cbb\u9762\u8c8c             \u6237\u7c4d\u6240\u5728\u5730                 \u6237\u7c4d\u884c\u653f\u533a\u5212             \u4f4f\u5740             \u5355\u4f4d\u804c\u52a1                 \u5355\u4f4d                 \u804c\u52a1             \u524d\u79d1\u52a3\u8ff9\u60c5\u51b5(NULL)                 \u5904\u7f6e\u65f6\u95f4                 \u5904\u7f6e\u539f\u56e0\u7ec4                     \u539f\u56e0 x N                 \u4e3b\u5211\u60c5\u51b5                     \u79cd\u7c7b                     \u5211\u671f                 \u9644\u52a0\u5211\u60c5\u51b5                     \u79cd\u7c7b                 \u91ca\u653e\u65e5\u671f                 \u524d\u79d1\u7c7b\u522b             \u5f3a\u5236\u63aa\u65bd\u4fe1\u606f                 \u6324\u538b\u65e5\u671f                 \u5f3a\u5236\u63aa\u65bd\u8bb0\u5f55                     \u63aa\u65bd\u79cd\u7c7b                     \u5b9e\u65bd\u65e5\u671f                     \u5b9e\u65bd\u673a\u5173             \u5f53\u4e8b\u4eba\u7c7b\u578b(\u6cd5\u4eba \u81ea\u7136\u4eba)     \u6848\u4ef6\u57fa\u672c\u60c5\u51b5\u6bb5         \u8d77\u8bc9\u6848\u7531         \u4fa6\u67e5\u673a\u5173         \u79fb\u9001\u5ba1\u67e5\u8d77\u8bc9         \u5ef6\u957f\u6b21\u6570         \u9000\u8865\u6b21\u6570         \u79fb\u9001\u5ba1\u67e5\u8d77\u8bc9\u65f6\u95f4         \u901f\u88c1\u7a0b\u5e8f\u6743\u5229\u544a\u77e5\u4e66\u65f6\u95f4     \u6848\u4ef6\u4e8b\u5b9e\u6bb5         \u72af\u7f6a\u4e8b\u5b9e         \u6848\u4ef6\u65f6\u95f4\u70b9 x N             \u65e5\u671f             \u884c\u4e3a         \u8bc1\u636e\u5217\u8868(NULL)     \u4e0d\u8d77\u8bc9\u5206\u6790\u6bb5         \u4e0d\u8d77\u8bc9\u8bb0\u5f55             \u4e0d\u8d77\u8bc9\u7406\u7531         \u8fdd\u53cd\u6cd5\u5f8b\u6761\u6587 x N         \u514d\u4e8e\u5904\u7f5a\u6761\u6b3e x N         \u4e0d\u8d77\u8bc9\u6cd5\u5f8b\u4f9d\u636e     \u6587\u5c3e         \u68c0\u67e5\u7ec4\u7ec7             \u4e0d\u8d77\u8bc9\u65e5\u671f             \u627f\u529e\u673a\u5173(\u68c0\u5bdf\u9662) \u9644\u52a0\u6bb5     \u6848\u4ef6\u7c7b\u522b \u81ea\u5b9a\u4e49</p>"},{"location":"1.%E4%B8%8D%E5%90%8C%E6%96%87%E4%B9%A6%E5%88%86%E6%9E%90/%E6%B3%95%E9%99%A2/1.%20%E5%88%A4%E5%86%B3%E4%B9%A6%20%E8%A3%81%E5%AE%9A%E4%B9%A6%20%E8%B0%83%E8%A7%A3%E4%B9%A6%20%28%E5%8D%B3%20%E8%A3%81%E5%88%A4%E6%96%87%E4%B9%A6%29/","title":"1. \u5224\u51b3\u4e66 \u88c1\u5b9a\u4e66 \u8c03\u89e3\u4e66 (\u5373 \u88c1\u5224\u6587\u4e66)","text":"<p>\u5171\u670944402 + 21752 + 87 \u5168\u6587     \u6587\u9996         \u6587\u4e66\u5236\u4f5c\u5355\u4f4d(\u6cd5\u9662)         \u6cd5\u9662\u6587\u4e66\u79cd\u7c7b(\u88c1\u5224\u6587\u4e66)         \u7ecf\u529e\u6cd5\u9662             \u6cd5\u9662\u5c42\u7ea7\u7801             \u6807\u51c6\u6cd5\u9662\u540d\u79f0             \u6cd5\u9662\u7ea7\u522b             \u884c\u653f\u533a\u5212_\u7701             \u884c\u653f\u533a\u5212_\u5e02         \u6587\u4e66\u540d\u79f0         \u6848\u53f7             \u5b57\u53f7             \u6848\u4ef6\u7c7b\u578b_\u4e00\u7ea7(NULL)                 \u6848\u4ef6\u7c7b\u578b_\u4e8c\u7ea7                     \u6848\u4ef6\u7c7b\u578b_\u4e09\u7ea7                         ......             \u7acb\u6848\u5e74\u5ea6             \u6cd5\u9662\u7b80\u4ecb             \u6848\u53f7\u987a\u5e8f\u53f7         \u6848\u4ef6\u7c7b\u522b         \u6587\u4e66\u79cd\u7c7b         \u5ba1\u5224\u7a0b\u5e8f         \u6848\u4ef6\u7c7b\u578b     \u5f53\u4e8b\u4eba         \u8d77\u8bc9\u65b9 x N             \u8bc9\u8bbc\u53c2\u4e0e\u4eba(\u5373 \u59d3\u540d)             \u5f53\u4e8b\u4eba\u7c7b\u578b(\u6cd5\u4eba \u6216 \u81ea\u7136\u4eba)             \u8bc9\u8bbc\u8eab\u4efd(\u6709 \u539f\u544a \u548c \u8d77\u8bc9\u4eba \u4e4b\u5206)             \u5f53\u4e8b\u4eba\u7c7b\u522b(\u539f\u544a \u88ab\u544a \u4ee3\u7406\u4eba)             \u672c\u5ba1\u8bc9\u8bbc\u5730\u4f4d(\u539f\u544a \u88ab\u544a \u4ee3\u7406\u4eba)             \u56fd\u7c4d             \u6027\u522b             \u6c11\u65cf             \u51fa\u751f\u65e5\u671f             \u5f53\u4e8b\u4eba\u5730\u5740             \u81ea\u7136\u4eba\u8eab\u4efd         \u5e94\u8bc9\u65b9 x N             \u8bc9\u8bbc\u53c2\u4e0e\u4eba(\u5373 \u59d3\u540d)             \u5f53\u4e8b\u4eba\u7c7b\u578b(\u6cd5\u4eba \u6216 \u81ea\u7136\u4eba)             \u8bc9\u8bbc\u8eab\u4efd(\u6709 \u539f\u544a \u548c \u8d77\u8bc9\u4eba \u4e4b\u5206)             \u5f53\u4e8b\u4eba\u7c7b\u522b(\u539f\u544a \u88ab\u544a \u4ee3\u7406\u4eba)             \u672c\u5ba1\u8bc9\u8bbc\u5730\u4f4d(\u539f\u544a \u88ab\u544a \u4ee3\u7406\u4eba)             \u56fd\u7c4d             \u6027\u522b             \u6c11\u65cf             \u51fa\u751f\u65e5\u671f             \u5f53\u4e8b\u4eba\u5730\u5740             \u81ea\u7136\u4eba\u8eab\u4efd         \u4ee3\u7406\u4eba x N             \u8bc9\u8bbc\u53c2\u4e0e\u4eba(\u5373 \u59d3\u540d)             \u5f53\u4e8b\u4eba\u7c7b\u578b(\u6cd5\u4eba \u6216 \u81ea\u7136\u4eba)             \u8bc9\u8bbc\u8eab\u4efd             \u5f53\u4e8b\u4eba\u7c7b\u522b(\u539f\u544a \u88ab\u544a \u4ee3\u7406\u4eba)             \u53c2\u4e0e\u4eba\u8bc9\u8bbc\u5730\u4f4d(\u539f\u544a \u88ab\u544a \u4ee3\u7406\u4eba)             \u56fd\u7c4d             \u81ea\u7136\u4eba\u8eab\u4efd             \u4ee3\u7406\u5bf9\u8c61\u96c6\u5408                 \u8d77\u8bc9\u65b9/\u5e94\u8bc9\u65b9 x N             ......         \u5171\u540c\u8bc9\u8bbc(\u662f/\u5426)     \u8bc9\u8bbc\u8bb0\u5f55         \u6848\u7531             \u5b8c\u6574\u6848\u7531             \u6848\u7531\u4ee3\u7801             \u5206\u7ea7\u7801         ......     \u6848\u4ef6\u57fa\u672c\u60c5\u51b5         ......         \u6cd5\u5f8b\u6cd5\u6761\u5f15\u7528 x N(NULL)             \u6cd5\u5f8b\u6cd5\u6761\u5206\u7ec4 x N     \u88c1\u5224\u5206\u6790\u8fc7\u7a0b         \u6848\u7531             \u5b8c\u6574\u6848\u7531             \u6848\u7531\u4ee3\u7801             \u5206\u7ea7\u7801         \u6cd5\u5f8b\u6cd5\u6761\u5f15\u7528 x N(NULL)             \u6cd5\u5f8b\u6cd5\u6761\u5206\u7ec4 x N     \u5224\u51b3\u7ed3\u679c         ......     \u6587\u5c3e         \u88c1\u5224\u65f6\u95f4             \u7ed3\u6848\u5e74\u5ea6             \u7ed3\u6848\u5e74\u6708\u65e5             \u7ed3\u6848\u5e74\u6708             \u7ed3\u6848\u6708\u4efd         \u5ba1\u5224\u7ec4\u7ec7\u6210\u5458 x N             \u59d3\u540d             \u89d2\u8272         \u6cd5\u5b98\u6210\u5458 x N             \u59d3\u540d             \u89d2\u8272             \u5b8c\u6574\u4fe1\u606f     \u7acb\u6848\u65e5\u671f(NULL)     \u6587\u4e66\u662f\u5426\u6a21\u7cca     \u65f6\u95f4\u7ebf         \u65f6\u95f4 x N             \u6bb5\u843d\u6765\u6e90             \u539f\u6587             \u65f6\u95f4\u539f\u6587             \u5177\u4f53\u65f6\u95f4 \u9644\u52a0\u6bb5     \u6848\u4ef6\u7c7b\u522b     \u5ba1\u5224\u7a0b\u5e8f     \u6c11\u4e8b\u6848\u7531         \u5b8c\u6574\u6848\u7531         \u6848\u7531\u4ee3\u7801         \u5206\u7ea7\u7801         \u7236\u6848\u7531\u4ee3\u7801         \u7236\u6848\u7531 \u81ea\u5b9a\u4e49     ....... \u6cd5\u5f8b\u6cd5\u6761\u5f15\u7528 x N(NULL)     \u6cd5\u5f8b\u6cd5\u6761\u5206\u7ec4 x N</p>"},{"location":"1.%E4%B8%8D%E5%90%8C%E6%96%87%E4%B9%A6%E5%88%86%E6%9E%90/%E6%B3%95%E9%99%A2/2.%20%E5%86%B3%E5%AE%9A%E4%B9%A6/","title":"2. \u51b3\u5b9a\u4e66","text":"<p>\u517131 \u5168\u6587     \u6587\u9996         \u6587\u4e66\u5236\u4f5c\u5355\u4f4d(\u6cd5\u9662)         \u6cd5\u9662\u6587\u4e66\u79cd\u7c7b(\u88c1\u5224\u6587\u4e66)         \u7ecf\u529e\u6cd5\u9662             \u6cd5\u9662\u5c42\u7ea7\u7801             \u6807\u51c6\u6cd5\u9662\u540d\u79f0             \u6cd5\u9662\u7ea7\u522b             \u884c\u653f\u533a\u5212_\u7701             \u884c\u653f\u533a\u5212_\u5e02         \u6587\u4e66\u540d\u79f0         \u6848\u53f7             \u5b57\u53f7             \u6848\u4ef6\u7c7b\u578b_\u4e00\u7ea7(NULL)                 \u6848\u4ef6\u7c7b\u578b_\u4e8c\u7ea7                     \u6848\u4ef6\u7c7b\u578b_\u4e09\u7ea7                         ......             \u7acb\u6848\u5e74\u5ea6             \u6cd5\u9662\u7b80\u4ecb             \u6848\u53f7\u987a\u5e8f\u53f7         \u6848\u4ef6\u7c7b\u522b         \u6587\u4e66\u79cd\u7c7b         \u5ba1\u5224\u7a0b\u5e8f         \u6848\u4ef6\u7c7b\u578b     \u5f53\u4e8b\u4eba         \u8d77\u8bc9\u65b9 x N             \u8bc9\u8bbc\u53c2\u4e0e\u4eba(\u5373 \u59d3\u540d)             \u5f53\u4e8b\u4eba\u7c7b\u578b(\u6cd5\u4eba \u6216 \u81ea\u7136\u4eba)             \u8bc9\u8bbc\u8eab\u4efd(\u6709 \u539f\u544a \u548c \u8d77\u8bc9\u4eba \u4e4b\u5206)             \u5f53\u4e8b\u4eba\u7c7b\u522b(\u539f\u544a \u88ab\u544a \u4ee3\u7406\u4eba)             \u672c\u5ba1\u8bc9\u8bbc\u5730\u4f4d(\u539f\u544a \u88ab\u544a \u4ee3\u7406\u4eba)             \u56fd\u7c4d             \u6027\u522b             \u6c11\u65cf             \u51fa\u751f\u65e5\u671f             \u5f53\u4e8b\u4eba\u5730\u5740             \u81ea\u7136\u4eba\u8eab\u4efd         \u5e94\u8bc9\u65b9 x N             \u8bc9\u8bbc\u53c2\u4e0e\u4eba(\u5373 \u59d3\u540d)             \u5f53\u4e8b\u4eba\u7c7b\u578b(\u6cd5\u4eba \u6216 \u81ea\u7136\u4eba)             \u8bc9\u8bbc\u8eab\u4efd(\u6709 \u539f\u544a \u548c \u8d77\u8bc9\u4eba \u4e4b\u5206)             \u5f53\u4e8b\u4eba\u7c7b\u522b(\u539f\u544a \u88ab\u544a \u4ee3\u7406\u4eba)             \u672c\u5ba1\u8bc9\u8bbc\u5730\u4f4d(\u539f\u544a \u88ab\u544a \u4ee3\u7406\u4eba)             \u56fd\u7c4d             \u6027\u522b             \u6c11\u65cf             \u51fa\u751f\u65e5\u671f             \u5f53\u4e8b\u4eba\u5730\u5740             \u81ea\u7136\u4eba\u8eab\u4efd         \u4ee3\u7406\u4eba x N             \u8bc9\u8bbc\u53c2\u4e0e\u4eba(\u5373 \u59d3\u540d)             \u5f53\u4e8b\u4eba\u7c7b\u578b(\u6cd5\u4eba \u6216 \u81ea\u7136\u4eba)             \u8bc9\u8bbc\u8eab\u4efd(\u6709 \u539f\u544a \u548c \u8d77\u8bc9\u4eba \u4e4b\u5206)             \u5f53\u4e8b\u4eba\u7c7b\u522b(\u539f\u544a \u88ab\u544a \u4ee3\u7406\u4eba)             \u53c2\u4e0e\u4eba\u8bc9\u8bbc\u5730\u4f4d(\u539f\u544a \u88ab\u544a \u4ee3\u7406\u4eba)             \u56fd\u7c4d             \u81ea\u7136\u4eba\u8eab\u4efd             \u4ee3\u7406\u5bf9\u8c61\u96c6\u5408                 \u8d77\u8bc9\u65b9/\u5e94\u8bc9\u65b9 x N             ......         \u5171\u540c\u8bc9\u8bbc(\u662f/\u5426)     \u8bc9\u8bbc\u8bb0\u5f55         \u6848\u7531             \u5b8c\u6574\u6848\u7531             \u6848\u7531\u4ee3\u7801             \u5206\u7ea7\u7801         ......     \u6848\u4ef6\u57fa\u672c\u60c5\u51b5         ......         \u6cd5\u5f8b\u6cd5\u6761\u5f15\u7528 x N(NULL)             \u6cd5\u5f8b\u6cd5\u6761\u5206\u7ec4 x N     \u88c1\u5224\u5206\u6790\u8fc7\u7a0b         \u6848\u7531             \u5b8c\u6574\u6848\u7531             \u6848\u7531\u4ee3\u7801             \u5206\u7ea7\u7801         \u6cd5\u5f8b\u6cd5\u6761\u5f15\u7528 x N(NULL)             \u6cd5\u5f8b\u6cd5\u6761\u5206\u7ec4 x N     \u5224\u51b3\u7ed3\u679c         ......</p> <pre><code>\u53efNULL\n        \u88c1\u5224\u65f6\u95f4\n            \u7ed3\u6848\u5e74\u5ea6\n            \u7ed3\u6848\u5e74\u6708\u65e5\n            \u7ed3\u6848\u5e74\u6708\n            \u7ed3\u6848\u6708\u4efd\n        \u5ba1\u5224\u7ec4\u7ec7\u6210\u5458 x N\n            \u59d3\u540d\n            \u89d2\u8272\n        \u6cd5\u5b98\u6210\u5458 x N\n            \u59d3\u540d\n            \u89d2\u8272\n            \u5b8c\u6574\u4fe1\u606f\n</code></pre> <pre><code>\u7acb\u6848\u65e5\u671f(NULL)\n\u6587\u4e66\u662f\u5426\u6a21\u7cca\n\u65f6\u95f4\u7ebf\n    \u65f6\u95f4 x N\n        \u6bb5\u843d\u6765\u6e90\n        \u539f\u6587\n        \u65f6\u95f4\u539f\u6587\n        \u5177\u4f53\u65f6\u95f4\n</code></pre> <p>\u9644\u52a0\u6bb5     \u6848\u4ef6\u7c7b\u522b     \u5ba1\u5224\u7a0b\u5e8f     \u6c11\u4e8b\u6848\u7531         \u5b8c\u6574\u6848\u7531         \u6848\u7531\u4ee3\u7801         \u5206\u7ea7\u7801         \u7236\u6848\u7531\u4ee3\u7801         \u7236\u6848\u7531 \u81ea\u5b9a\u4e49     ....... \u6cd5\u5f8b\u6cd5\u6761\u5f15\u7528 x N(NULL)     \u6cd5\u5f8b\u6cd5\u6761\u5206\u7ec4 x N</p>"},{"location":"1.%E4%B8%8D%E5%90%8C%E6%96%87%E4%B9%A6%E5%88%86%E6%9E%90/%E6%B3%95%E9%99%A2/3.%20%E8%B5%B7%E8%AF%89%E7%8A%B6/","title":"3. \u8d77\u8bc9\u72b6","text":"<p>\u51712 \u5168\u6587     \u6587\u9996         \u6587\u4e66\u5236\u4f5c\u5355\u4f4d(\u6cd5\u9662)         \u6cd5\u9662\u6587\u4e66\u79cd\u7c7b(\u88c1\u5224\u6587\u4e66)         \u6587\u4e66\u540d\u79f0(NULL)         \u6848\u53f7(NULL)         \u6848\u4ef6\u7c7b\u522b         \u6587\u4e66\u79cd\u7c7b</p>"},{"location":"1.%E4%B8%8D%E5%90%8C%E6%96%87%E4%B9%A6%E5%88%86%E6%9E%90/%E6%B3%95%E9%99%A2/4.%20%E9%80%9A%E7%9F%A5%E4%B9%A6/","title":"4. \u901a\u77e5\u4e66","text":"<p>\u51711 \u5168\u6587     \u6587\u9996         \u6587\u4e66\u5236\u4f5c\u5355\u4f4d(\u6cd5\u9662)         \u6cd5\u9662\u6587\u4e66\u79cd\u7c7b(\u88c1\u5224\u6587\u4e66)         \u7ecf\u529e\u6cd5\u9662             \u6cd5\u9662\u5c42\u7ea7\u7801             \u6807\u51c6\u6cd5\u9662\u540d\u79f0             \u6cd5\u9662\u7ea7\u522b             \u884c\u653f\u533a\u5212_\u7701             \u884c\u653f\u533a\u5212_\u5e02         \u6587\u4e66\u540d\u79f0         \u6848\u53f7             \u5b57\u53f7             \u6848\u4ef6\u7c7b\u578b_\u4e00\u7ea7(NULL)                 \u6848\u4ef6\u7c7b\u578b_\u4e8c\u7ea7                     \u6848\u4ef6\u7c7b\u578b_\u4e09\u7ea7                         ......             \u7acb\u6848\u5e74\u5ea6             \u6cd5\u9662\u7b80\u4ecb             \u6848\u53f7\u987a\u5e8f\u53f7         \u6848\u4ef6\u7c7b\u522b         \u6587\u4e66\u79cd\u7c7b</p>"},{"location":"2.%E5%88%9B%E5%BB%BA%E6%A8%A1%E5%9E%8B/1.%E9%9B%8F%E5%BD%A2/","title":"1.\u96cf\u5f62","text":"<p>\u7531\u524d\u9762\u5bf9\u4e0d\u540c\u6587\u4e66\u7684\u7edf\u8ba1\u548c\u603b\u7ed3\uff0c\u53d1\u73b0\u5b9e\u9645\u4e0a\u6cd5\u9662\u7684\u4e09\u79cd\u88c1\u5224\u6587\u4e66\u5360\u4e86\u6240\u6709\u6587\u4e66\u7684\u7ea697%\uff0c\u68c0\u5bdf\u9662\u7684\u8d77\u8bc9\u4e66\u4e0e\u4e0d\u8d77\u8bc9\u4e66\u53c8\u5360\u4e86\u7ea62.8%\uff1b\u56e0\u6b64\uff0c\u5b58\u50a8\u6a21\u578b\u53ef\u4ee5\u53ea\u6309\u7167\u8fd9\u4e24\u79cd\u6587\u4e66\u6765\u8bbe\u8ba1\uff0c\u5176\u4ed6\u7684\u6309\u60c5\u51b5\u7279\u5224\u3002</p> <ol> <li>\u6587\u4e66\u6a21\u578b:\u4f5c\u4e3a\u57fa\u7c7b\u6a21\u578b,\u5b58\u50a8\u4e24\u79cd\u6587\u4e66\u7684\u5171\u540c\u5c5e\u6027</li> </ol> <pre><code>class Document(models.Model):\n    court_agency = models.CharField(max_length=100)  # \u6587\u4e66\u5236\u4f5c\u5355\u4f4d\n    document_type = models.CharField(max_length=50)  # \u6587\u4e66\u79cd\u7c7b \n    name = models.CharField(max_length=200)  # \u6587\u4e66\u540d\u79f0\n    case_type = models.CharField(max_length=50)  # \u6848\u4ef6\u7c7b\u522b\n    case_number = models.CharField(max_length=100)  # \u6848\u53f7\n    region_code = models.CharField(max_length=50)  # \u884c\u653f\u533a\u5212\u4ee3\u7801\n    full_text = models.TextField()  # \u5168\u6587\n</code></pre> <ol> <li>\u5224\u51b3\u4e66\u6a21\u578b\u548c\u8d77\u8bc9\u4e66\u6a21\u578b:\u7ee7\u627f\u81ea\u6587\u4e66\u6a21\u578b,\u5b58\u50a8\u5404\u81ea\u7279\u6709\u7684\u5c5e\u6027</li> </ol> <pre><code>class Judgment(Document): \n    judgment_date = models.DateField()  # \u7ed3\u6848\u65e5\u671f\n\nclass Prosecution(Document):\n    prosecute_date = models.DateField()  # \u8d77\u8bc9\u65e5\u671f\n    prosecute_to_court = models.CharField(max_length=100)  # \u8bc9\u81f3\u6cd5\u9662 \n</code></pre> <ol> <li>\u5f53\u4e8b\u4eba\u6a21\u578b</li> </ol> <pre><code>class Party(models.Model):\n    name = models.CharField(max_length=50)  # \u59d3\u540d\n    party_type = models.CharField(max_length=20)  # \u5f53\u4e8b\u4eba\u7c7b\u578b\n    identity = models.CharField(max_length=20)  # \u8eab\u4efd\n    nationality = models.CharField(max_length=50)  # \u56fd\u7c4d\n    gender = models.CharField(max_length=10)  # \u6027\u522b\n</code></pre> <ol> <li>\u4ee3\u7406\u4eba\u6a21\u578b(?)</li> </ol> <pre><code>class Agent(models.Model):\n    name = models.CharField(max_length=50)  # \u59d3\u540d\n    agent_type = models.CharField(max_length=20)  # \u4ee3\u7406\u4eba\u7c7b\u578b\n    represented_parties = models.ManyToManyField(Party)  # \u4ee3\u7406\u5bf9\u8c61\n</code></pre> <ol> <li>\u6848\u7531\u6a21\u578b</li> </ol> <pre><code>class Cause(models.Model):\n    full_cause = models.TextField()  # \u5b8c\u6574\u6848\u7531\n    cause_code = models.CharField(max_length=50)  # \u6848\u7531\u4ee3\u7801\n    level_code = models.CharField(max_length=50)  # \u5206\u7ea7\u7801\n</code></pre> <ol> <li>\u6cd5\u5f8b\u4f9d\u636e\u6a21\u578b</li> </ol> <pre><code>class LawReference(models.Model):\n    law_group = models.CharField(max_length=100)  # \u6cd5\u5f8b\u6cd5\u6761\u5206\u7ec4\n    content = models.TextField()  # \u5f15\u7528\u5185\u5bb9\n</code></pre> <ol> <li>\u8bc1\u636e\u6a21\u578b:\u7528\u4e8e\u5b58\u50a8\u6848\u4ef6\u4e8b\u5b9e\u4e2d\u7684\u8bc1\u636e</li> </ol> <pre><code>class Evidence(models.Model):\n    name = models.CharField(max_length=100)  # \u8bc1\u636e\u540d\u79f0\n    content = models.TextField()  # \u8bc1\u636e\u5185\u5bb9\n</code></pre> <ol> <li>\u65f6\u95f4\u70b9\u6a21\u578b:\u7528\u4e8e\u5b58\u50a8\u6848\u4ef6\u4e8b\u5b9e\u4e2d\u7684\u65f6\u95f4\u70b9\u4fe1\u606f</li> </ol> <pre><code>class TimePoint(models.Model):\n    date = models.DateField()  # \u65e5\u671f \n    behavior = models.TextField()  # \u884c\u4e3a\n</code></pre> <ol> <li>\u6cd5\u9662\u6a21\u578b:</li> </ol> <pre><code>class Court(models.Model):\n    name = models.CharField(max_length=100)  # \u6cd5\u9662\u540d\u79f0\n    level = models.CharField(max_length=50)  # \u6cd5\u9662\u7ea7\u522b\n    district = models.CharField(max_length=100)  # \u884c\u653f\u533a\u5212\n</code></pre> <ol> <li>\u68c0\u5bdf\u9662\u6a21\u578b\uff1a</li> </ol> <pre><code>class Procuratorate(models.Model):\n    name = models.CharField(max_length=100)  # \u68c0\u5bdf\u9662\u540d\u79f0 \n    level = models.CharField(max_length=50)  # \u68c0\u5bdf\u9662\u7ea7\u522b\n    district = models.CharField(max_length=100)  # \u884c\u653f\u533a\u5212\n</code></pre> <ol> <li>\u901a\u8fc7\u5916\u952e\u5c06\u4e0a\u8ff0\u6a21\u578b\u5173\u8054\u5230\u6587\u4e66\u4e3b\u6a21\u578b</li> </ol>"},{"location":"2.%E5%88%9B%E5%BB%BA%E6%A8%A1%E5%9E%8B/2.%E5%8E%9F%E5%88%99/","title":"2.\u539f\u5219","text":"<ol> <li>\u6839\u636e\u4fe1\u606f\u7ed3\u6784\u62bd\u8c61\u51fa\u57fa\u7c7b\u6a21\u578b,\u4ee5\u5b9e\u73b0\u7ee7\u627f\u548c\u51cf\u5c11 redundancy\u3002\u4f8b\u5982\u4e0a\u4f8b\u4e2d\u7684Document\u57fa\u7c7b\u6a21\u578b\u3002</li> <li>\u5c06\u4fe1\u606f\u5206\u89e3\u5230\u5408\u7406\u7684\u8303\u7574,\u4e3a\u6bcf\u4e2a\u8303\u7574\u8bbe\u8ba1\u5355\u72ec\u7684\u6a21\u578b\u3002\u4f8b\u5982\u5c06\u5f53\u4e8b\u4eba\u3001\u6848\u7531\u3001\u6cd5\u5f8b\u4f9d\u636e\u7b49\u4fe1\u606f\u5206\u89e3\u5230\u5404\u81ea\u7684\u6a21\u578b\u3002</li> <li>\u8003\u8651\u672a\u6765\u7684\u6269\u5c55\u9700\u6c42,\u8bbe\u8ba1\u8db3\u591f\u62bd\u8c61\u548c\u901a\u7528\u7684\u6a21\u578b\u3002\u4f8b\u5982\u4e0d\u9884\u8bbe\u5b9a\u4efb\u4f55\u5b57\u6bb5\u540d\u79f0,\u4ee5\u9002\u5e94\u65b0\u7684\u5c5e\u6027\u3002</li> <li>\u901a\u8fc7\u5916\u952e\u5173\u8054\u6a21\u578b,\u6784\u5efa\u4fe1\u606f\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u8fd9\u53ef\u4ee5\u4fdd\u8bc1\u6570\u636e\u7684\u6574\u6d01\u6027\u548c\u4e00\u81f4\u6027\u3002</li> <li>\u5728\u590d\u6742\u7684\u7cfb\u7edf\u4e2d,\u4ee5\u9762\u5411\u5bf9\u8c61\u7684\u601d\u60f3\u6784\u5efa\u6a21\u578b\u5c42\u7ea7\u7ed3\u6784\u3002\u4f7f\u6bcf\u4e2a\u6a21\u578b\u53ea\u8d1f\u8d23\u8868\u8fbe\u4e00\u7c7b\u4fe1\u606f,\u589e\u5f3a\u6a21\u578b\u7684\u5185\u805a\u6027\u548c\u590d\u7528\u6027\u3002</li> <li>\u6839\u636e\u5b9e\u9645\u7684\u5e94\u7528\u573a\u666f\u548c\u6570\u636e\u89c4\u6a21,\u6743\u8861\u6a21\u578b\u7684\u89c4\u8303\u6027\u4e0e\u67e5\u8be2\u6548\u7387\u3002\u4e0d\u80fd\u8fc7\u5ea6\u7ec6\u5316\u6a21\u578b,\u4ee5\u514d\u5f71\u54cd\u6027\u80fd\u3002</li> <li>\u5728\u8bbe\u8ba1\u8fc7\u7a0b\u4e2d\u6301\u7eed\u4f18\u5316\u548c\u7b80\u5316\u6a21\u578b\u7ed3\u6784\u3002\u4f8b\u5982\u5408\u5e76\u8fc7\u4e8e\u76f8\u4f3c\u7684\u6a21\u578b,\u6216\u6539\u8fdb\u5b57\u6bb5\u540d\u79f0\u548c\u7c7b\u578b\u3002</li> </ol>"},{"location":"2.%E5%88%9B%E5%BB%BA%E6%A8%A1%E5%9E%8B/3.%E5%AE%9E%E9%99%85%E4%BD%BF%E7%94%A8%E7%9A%84%E6%A8%A1%E5%9E%8B/","title":"3.\u5b9e\u9645\u4f7f\u7528\u7684\u6a21\u578b","text":"<p>\u8003\u8651\u540e\u53d6\u6d88\u4e86\u6848\u7531\u6a21\u578b\u3001\u8bc1\u636e\u6a21\u578b\u7b49\uff0c\u5b9e\u9645\u4f7f\u7528\u7684\u6a21\u578b\u5982\u4e0b\uff1a</p> <ol> <li>\u6cd5\u9662\u6a21\u578b:</li> </ol> <pre><code>class Court(models.Model):  \n    \"\"\"  \n    \u6cd5\u9662\u6a21\u578b  \n    \"\"\"  \n    name = models.CharField(max_length=100, verbose_name='\u6cd5\u9662\u540d\u79f0') # \u6cd5\u9662\u6807\u51c6\u540d\u79f0  \n    code = models.CharField(max_length=10, verbose_name='\u6cd5\u9662\u5c42\u7ea7\u7801') # \u6cd5\u9662\u5c42\u7ea7\u7801  \n    level = models.CharField(max_length=10, verbose_name='\u6cd5\u9662\u7ea7\u522b') # \u6cd5\u9662\u7ea7\u522b(eg. \u57fa\u5c42\u3001\u4e2d\u7ea7\u3001\u9ad8\u7ea7)  \n    province = models.CharField(max_length=30, verbose_name='\u7701\u4efd') # \u884c\u653f\u533a\u5212\u2014\u2014\u7701\u4efd  \n    city = models.CharField(max_length=50, verbose_name='\u57ce\u5e02') # \u884c\u653f\u533a\u5212\u2014\u2014\u57ce\u5e02  \n</code></pre> <ol> <li>\u68c0\u5bdf\u9662\u6a21\u578b\uff1a</li> </ol> <pre><code>class Procuratorate(models.Model):  \n    \"\"\"  \n    \u68c0\u5bdf\u9662\u6a21\u578b  \n    \"\"\"  \n    name = models.CharField(max_length=100, verbose_name='\u68c0\u5bdf\u9662\u540d\u79f0') # \u68c0\u5bdf\u9662\u540d\u79f0  \n    district_code = models.CharField(max_length=10, verbose_name='\u884c\u653f\u533a\u5212\u4ee3\u7801') # \u884c\u653f\u533a\u5212\u4ee3\u7801  \n    province = models.CharField(max_length=30, verbose_name='\u7701\u4efd') # \u884c\u653f\u533a\u5212\u2014\u2014\u7701\u4efd  \n    city = models.CharField(max_length=50, verbose_name='\u57ce\u5e02') # \u884c\u653f\u533a\u5212\u2014\u2014\u57ce\u5e02  \n    county = models.CharField(max_length=50, verbose_name='\u533a\u53bf') # \u884c\u653f\u533a\u5212\u2014\u2014\u533a\u53bf  \n    level = models.IntegerField(verbose_name='\u68c0\u5bdf\u9662\u7ea7\u522b') # \u68c0\u5bdf\u9662\u7ea7\u522b(eg. 4)  \n</code></pre> <ol> <li>\u5f53\u4e8b\u4eba\u6a21\u578b</li> </ol> <pre><code>class Party(models.Model):  \n    \"\"\"  \n    \u5f53\u4e8b\u4eba\u6a21\u578b  \n    \"\"\"  \n    name = models.CharField(max_length=100, verbose_name='\u5f53\u4e8b\u4eba\u540d\u79f0') # \u5f53\u4e8b\u4eba\u540d\u79f0  \n    name_accurate = models.BooleanField(verbose_name='\u5f53\u4e8b\u4eba\u540d\u79f0\u662f\u5426\u51c6\u786e') # \u5f53\u4e8b\u4eba\u540d\u79f0\u662f\u5426\u51c6\u786e(\u53ef\u80fd\u662f\u5316\u540d)  \n    p_type = models.CharField(max_length=10, verbose_name='\u5f53\u4e8b\u4eba\u7c7b\u578b') # \u5f53\u4e8b\u4eba\u7c7b\u578b(eg. \u4e2a\u4eba\u3001\u6cd5\u4eba\u3001\u5176\u4ed6)  \n    status = models.CharField(max_length=10, verbose_name='\u8bc9\u8bbc\u8eab\u4efd', blank=True) # \u8bc9\u8bbc\u8eab\u4efd(eg. \u539f\u544a\u3001\u88ab\u544a\u3001\u4ee3\u7406)  \n    nationality = models.CharField(max_length=10, verbose_name='\u56fd\u7c4d', blank=True) # \u56fd\u7c4d  \n    nation = models.CharField(max_length=10, verbose_name='\u6c11\u65cf', blank=True) # \u6c11\u65cf  \n    gender = models.CharField(max_length=10, verbose_name='\u6027\u522b', blank=True) # \u6027\u522b  \n    birthday = models.DateField(verbose_name='\u51fa\u751f\u65e5\u671f', blank=True) # \u51fa\u751f\u65e5\u671f\n</code></pre> <ol> <li>\u4ee3\u7406\u4eba\u6a21\u578b</li> </ol> <pre><code>class Agent(models.Model):  \n    \"\"\"  \n    \u4ee3\u7406\u4eba\u6a21\u578b  \n    \"\"\"  \n    name = models.CharField(max_length=100, verbose_name='\u4ee3\u7406\u4eba\u540d\u79f0') # \u4ee3\u7406\u4eba\u540d\u79f0  \n    h_type = models.CharField(max_length=10, verbose_name='\u4ee3\u7406\u4eba\u7c7b\u578b') # \u4ee3\u7406\u4eba\u7c7b\u578b(eg. \u4e2a\u4eba\u3001\u6cd5\u4eba\u3001\u5176\u4ed6)  \n    profession = models.CharField(max_length=30, verbose_name='\u4ee3\u7406\u4eba\u8fa9\u62a4\u4eba\u804c\u4e1a\u7c7b\u578b', blank=True) # \u804c\u4e1a(eg. \u804c\u4e1a\u5f8b\u5e08\u3001\u975e\u6cd5\u52a1\u4eba\u5458)  \n    a_type = models.CharField(max_length=20, verbose_name='\u8fa9\u62a4\u4eba\u6216\u8bc9\u8bbc\u4ee3\u7406\u4eba\u7c7b\u578b', blank=True) # \u4ee3\u7406\u7c7b\u578b(eg. \u5f8b\u5e08\u3001\u4eb2\u53cb)  \n</code></pre> <ol> <li>\u6cd5\u6761\u6a21\u578b</li> </ol> <pre><code>class LawReference(models.Model):  \n    \"\"\"  \n    \u6cd5\u6761\u5f15\u7528\u6a21\u578b  \n    \"\"\"  \n    law_name = models.CharField(max_length=100, verbose_name=\"\u6cd5\u5f8b\u540d\u79f0\") # \u6cd5\u5f8b\u540d\u79f0  \n    law_clause = models.CharField(max_length=30, verbose_name=\"\u6761\") # \u6761  \n    law_clause_item = models.CharField(max_length=30, verbose_name=\"\u6b3e\") # \u6b3e  \n    law_item = models.CharField(max_length=30, verbose_name=\"\u9879\") # \u9879\n</code></pre> <ol> <li>\u6cd5\u5b98\u6a21\u578b</li> </ol> <pre><code>class Judge(models.Model):  \n    \"\"\"  \n    \u6cd5\u5b98\u6a21\u578b  \n    \"\"\"  \n    name = models.CharField(max_length=50, verbose_name='\u6cd5\u5b98\u540d\u79f0') # \u6cd5\u5b98\u540d\u79f0  \n    full_name = models.CharField(max_length=100, verbose_name='\u6cd5\u5b98\u5168\u79f0') # \u6cd5\u5b98\u5168\u79f0\n</code></pre> <ol> <li>\u6587\u4e66\u57fa\u672c\u6a21\u578b</li> </ol> <pre><code>class Document(models.Model):  \n    \"\"\"  \n    \u6587\u4e66\u57fa\u7c7b  \n    \"\"\"  \n    WSZZDW = (  \n    ('1', '\u6cd5\u9662'),  \n    ('2', '\u68c0\u5bdf\u9662'),  \n    ('3', '\u53f8\u6cd5\u884c\u653f'),  \n    )  \n\n    # \u6587\u4e66\u57fa\u672c\u4fe1\u606f  \n    agency = models.CharField(max_length=20, choices=WSZZDW, verbose_name='\u6587\u4e91\u5236\u4f5c\u5355\u4f4d') # \u6587\u4e66\u5236\u4f5c\u5355\u4f4d  \n    doc_type = models.CharField(max_length=30, verbose_name='\u6587\u4e66\u79cd\u7c7b') # \u6587\u4e66\u79cd\u7c7b  \n    full_text = models.TextField(verbose_name='\u5168\u6587') # \u5168\u6587\n</code></pre> <ol> <li>\u5224\u51b3\u4e66\u3001\u88c1\u5b9a\u4e66\u3001\u8c03\u89e3\u4e66\u3001\u51b3\u5b9a\u4e66\u6a21\u578b</li> </ol> <pre><code>class Judgment(Document):  \n    \"\"\"  \n    \u6cd5\u9662\u6587\u4e66\u6a21\u578b\uff08\u88c1\u5224\u6587\u4e66+\u51b3\u5b9a\u4e66\uff09  \n    \"\"\"  \n    # \u6587\u4e66\u57fa\u672c\u4fe1\u606f  \n    case_number = models.CharField(max_length=100, verbose_name='\u6848\u53f7') # \u6848\u53f7  \n    case_type = models.CharField(max_length=30, verbose_name='\u6848\u4ef6\u7c7b\u522b') # \u6848\u4ef6\u7c7b\u522b  \n    # \u88c1\u5224\u65e5\u671f  \n    judgment_date = models.DateField(verbose_name='\u88c1\u5224\u65e5\u671f') # \u88c1\u5224\u65e5\u671f  \n\n    # \u6cd5\u9662\u4fe1\u606f  \n    court = models.ForeignKey(Court, on_delete=models.CASCADE, verbose_name='\u6cd5\u9662') # \u6cd5\u9662  \n\n    # \u5f53\u4e8b\u4eba\u4fe1\u606f  \n    plaintiff = models.ManyToManyField(Party, related_name='plaintiff', verbose_name='\u539f\u544a') # \u539f\u544a  \n    defendant = models.ManyToManyField(Party, related_name='defendant', verbose_name='\u88ab\u544a') # \u88ab\u544a  \n\n    # \u4ee3\u7406\u4eba\u4fe1\u606f  \n    plaintiff_agent = models.ManyToManyField(Agent, related_name='plaintiff_agent', verbose_name='\u539f\u544a\u4ee3\u7406\u4eba', blank=True) # \u539f\u544a\u4ee3\u7406\u4eba  \n    defendant_agent = models.ManyToManyField(Agent, related_name='defendant_agent', verbose_name='\u88ab\u544a\u4ee3\u7406\u4eba', blank=True) # \u88ab\u544a\u4ee3\u7406\u4eba  \n\n    # \u6cd5\u6761\u5f15\u7528  \n    law_reference = models.ManyToManyField(LawReference, verbose_name='\u6cd5\u6761\u5f15\u7528') # \u6cd5\u6761\u5f15\u7528  \n\n    # \u5ba1\u5224\u7ec4\u7ec7\u4fe1\u606f  \n    judge = models.ManyToManyField(Judge, verbose_name='\u6cd5\u5b98') # \u6cd5\u5b98\n</code></pre> <ol> <li>\u8d77\u8bc9\u4e66\u3001\u4e0d\u8d77\u8bc9\u4e66\u6a21\u578b</li> </ol> <pre><code>class Prosecution(Document):  \n    \"\"\"  \n    \u68c0\u5bdf\u9662\u6587\u4e66\u6a21\u578b  \n    \"\"\"  \n    # \u6587\u4e66\u57fa\u672c\u4fe1\u606f  \n    case_number = models.CharField(max_length=100, verbose_name='\u6848\u53f7') # \u6848\u53f7  \n    case_type = models.CharField(max_length=30, verbose_name='\u6848\u4ef6\u7c7b\u522b') # \u6848\u4ef6\u7c7b\u522b  \n    p_date = models.DateField(verbose_name='(\u4e0d)\u8d77\u8bc9\u65e5\u671f') # (\u4e0d)\u8d77\u8bc9\u65e5\u671f  \n\n    # \u8bc9\u81f3\u6cd5\u9662  \n    court = models.ForeignKey(Court, on_delete=models.CASCADE, verbose_name='\u8bc9\u81f3\u6cd5\u9662', blank=True) # \u8bc9\u81f3\u6cd5\u9662  \n\n    # \u68c0\u5bdf\u9662\u4fe1\u606f  \n    prosecution = models.ForeignKey(Procuratorate, on_delete=models.CASCADE, verbose_name='\u68c0\u5bdf\u9662') # \u68c0\u5bdf\u9662  \n\n    # \u88ab\u544a\u4eba\u4fe1\u606f  \n    defendant = models.ManyToManyField(Party, related_name='prosecution_defendant', verbose_name='\u88ab\u544a') # \u88ab\u544a\n</code></pre>"},{"location":"2.%E5%88%9B%E5%BB%BA%E6%A8%A1%E5%9E%8B/4.%E8%AE%BF%E9%97%AE%E9%9D%99%E6%80%81%E5%86%85%E5%AE%B9/","title":"4.\u8bbf\u95ee\u9759\u6001\u5185\u5bb9","text":"<p>Django\u53ef\u4ee5\u8fd9\u6837\u5c06\u540e\u7aef\u5b58\u50a8\u7684\u7f51\u9875\u6587\u4ef6\u76f4\u63a5\u63d0\u4f9b\u7ed9\u524d\u7aef\u8bbf\u95ee:1. \u5728\u9879\u76ee\u7684urls.py\u6587\u4ef6\u4e2d,\u6dfb\u52a0\u7528\u4e8e\u8bbf\u95ee\u9759\u6001\u6587\u4ef6\u7684url pattern:</p> <pre><code>from django.conf import settings\nfrom django.conf.urls.static import static\n\nurlpatterns = [\n    # ...\n] + static(settings.STATIC_URL, document_root=settings.STATIC_ROOT)\n</code></pre> <ol> <li>\u5728\u9879\u76ee\u7684settings.py\u6587\u4ef6\u4e2d,\u914d\u7f6eSTATIC_URL\u548cSTATIC_ROOT:</li> </ol> <pre><code>STATIC_URL = '/static/'\nSTATIC_ROOT = os.path.join(BASE_DIR, \"resources\", \"static\")\n</code></pre> <ol> <li>\u5728STATIC_ROOT\u6307\u5b9a\u7684\u76ee\u5f55(\u5982\u8fd9\u91cc\u7684static/)\u4e0b\u5b58\u653e\u9759\u6001\u6587\u4ef6\u30024. \u8fd0\u884cDjango server,\u8bbf\u95eehttp://127.0.0.1:8000/static/resources/test.html\u8fd9\u6837,\u9759\u6001\u7684test.html\u6587\u4ef6\u5c31\u53ef\u4ee5\u76f4\u63a5\u63d0\u4f9b\u7ed9\u524d\u7aef\u8bbf\u95ee\u4e86\u3002 \u5de5\u4f5c\u6d41\u7a0b\u662f:</li> <li>\u914d\u7f6eSTATIC_URL\u548cSTATIC_ROOT\u5728settings\u4e2d  </li> <li>\u6307\u5b9a\u4e00\u4e2a\u76ee\u5f55\u4f5c\u4e3aSTATIC_ROOT,\u7528\u6765\u6536\u96c6\u5404App\u4e2d\u7684\u9759\u6001\u6587\u4ef6  </li> <li>\u5728urls\u4e2d\u6dfb\u52a0\u7528\u4e8e\u8bbf\u95ee\u9759\u6001\u6587\u4ef6\u7684url pattern,\u6307\u5411STATIC_ROOT\u76ee\u5f55\u00a0  </li> <li>\u5c06\u9759\u6001\u6587\u4ef6\u653e\u5165STATIC_ROOT\u76ee\u5f55(\u5404App\u7684static\u76ee\u5f55\u4f1a\u81ea\u52a8\u6536\u96c6\u5230\u8fd9\u91cc)  </li> <li>\u8fd0\u884cserver,\u901a\u8fc7/static/ xxx\u7684\u65b9\u5f0f\u8bbf\u95ee\u9759\u6001\u6587\u4ef6URL  </li> <li>\u8bf7\u6c42\u88abSTATIC_ROOT\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u5904\u7406,\u8fd4\u56de\u7ed9\u524d\u7aef\u00a0</li> </ol> <p>\u6240\u4ee5,\u5173\u952e\u662f\u6b63\u786e\u914d\u7f6e: - STATIC_URL - \u9759\u6001\u6587\u4ef6\u8bbf\u95eeURL\u524d\u7f00,\u5982'/static/' - STATIC_ROOT - \u6536\u96c6\u5404App\u9759\u6001\u6587\u4ef6\u7684\u603b\u76ee\u5f55 - \u5728urls\u4e2d\u6dfb\u52a0\u6307\u5411STATIC_ROOT\u7684url pattern</p> <p>\u7136\u540e,\u5c06\u9759\u6001\u8d44\u6e90\u6587\u4ef6\u653e\u5165STATIC_ROOT\u6307\u5b9a\u76ee\u5f55(\u53ca\u5176\u5b50\u76ee\u5f55),\u5c31\u53ef\u4ee5\u901a\u8fc7/static/xxx\u7684\u65b9\u5f0f,\u5728\u524d\u7aef\u76f4\u63a5\u8bbf\u95ee\u8fd9\u4e9b\u540e\u7aef\u5b58\u653e\u7684\u9759\u6001\u6587\u4ef6\u4e86\u3002</p> <p>\u8fd9\u662fDjango\u63d0\u4f9b\u7684\u5904\u7406\u9759\u6001\u8d44\u6e90\u7684\u6807\u51c6\u65b9\u5f0f,\u4e86\u89e3\u6e05\u695a\u4e86\u8fd9\u5957\u6d41\u7a0b\u548c\u673a\u5236\u540e,\u60a8\u5c31\u53ef\u4ee5\u8f7b\u677e\u5b9e\u73b0\u5728\u540e\u7aef\u5b58\u50a8\u7684\u7f51\u9875\u7b49\u9759\u6001\u6587\u4ef6\u524d\u7aef\u76f4\u63a5\u8bbf\u95ee\u7684\u9700\u6c42\u3002</p> <p>\u5b9e\u8df5\u65f6\u603b\u662f\u4e0d\u6210\u529f\uff0c\u540e\u6765\u53d1\u73b0\u52a0\u4e0a\uff1a</p> <pre><code>STATICFILES_DIRS = (  \n    os.path.join(BASE_DIR, \"resources\", \"static\"),  \n)\n</code></pre> <p>\u5c31\u6210\u529f\u4e86\uff0cSTATIC_ROOT\u53ef\u4ee5\u5220\u6389\u3002</p>"},{"location":"2.%E5%88%9B%E5%BB%BA%E6%A8%A1%E5%9E%8B/5.%E5%90%8E%E7%BB%AD%E5%A4%84%E7%90%86/","title":"5.\u540e\u7eed\u5904\u7406","text":"<p>\u5728Django\u4e2d\u521b\u5efa\u6a21\u578b\u540e,\u9700\u8981\u8fdb\u884c\u4ee5\u4e0b\u540e\u7eed\u5904\u7406:</p> <ol> <li>\u5728\u5e94\u7528\u4e2d\u7684admin.py\u6587\u4ef6\u4e2d\u6ce8\u518c\u6a21\u578b,\u8fd9\u6837\u624d\u80fd\u5728Admin\u7ad9\u70b9\u4e2d\u7ba1\u7406\u8be5\u6a21\u578b\u7684\u6570\u636e\u3002\u6ce8\u518c\u65b9\u5f0f\u4e3a:</li> </ol> <pre><code>from .models import Fruit\n\nadmin.site.register(Fruit)\n</code></pre> <ol> <li>\u6267\u884c\u6570\u636e\u5e93\u8fc1\u79fb,\u5c06\u6a21\u578b\u4e2d\u7684\u5b9a\u4e49\u6620\u5c04\u5230\u6570\u636e\u5e93\u8868\u7ed3\u6784\u3002\u8fc1\u79fb\u65b9\u5f0f\u4e3a:</li> </ol> <pre><code>python manage.py makemigrations\npython manage.py migrate\n</code></pre> <ol> <li> <p>\u5982\u679c\u9700\u8981,\u53ef\u4ee5\u4e3a\u6a21\u578b\u5728Admin\u7ad9\u70b9\u4e2d\u5b9a\u5236\u663e\u793a\u3002\u53ef\u4ee5\u5728admin.py\u4e2d\u6ce8\u518c\u6a21\u578b\u65f6\u6307\u5b9a:- list_display: \u8981\u5728\u5217\u8868\u9875\u663e\u793a\u7684\u5b57\u6bb5  </p> <ul> <li>list_filter: \u5217\u8868\u9875\u7684\u8fc7\u6ee4\u9009\u9879\u00a0  </li> <li>search_fields: \u641c\u7d22\u9009\u9879\u00a0  </li> <li>fields: \u5185\u5bb9\u9875\u8981\u663e\u793a\u7684\u5b57\u6bb5\u987a\u5e8f\u4f8b\u5982:</li> </ul> </li> </ol> <pre><code>from .models import Fruit\n\nadmin.site.register(Fruit, list_display=['name', 'price'], \n                    list_filter=['name'], \n                    search_fields=['name'])\n</code></pre> <ol> <li>\u5982\u679c\u9700\u8981,\u53ef\u4ee5\u4e3a\u6a21\u578b\u5b9a\u4e49ModelForm,\u4ee5\u4fbf\u5728Admin\u7ad9\u70b9\u548c\u89c6\u56fe\u4e2d\u7f16\u8f91\u5bf9\u8c61\u3002\u5b9a\u4e49\u65b9\u5f0f\u4e3a:myproject/forms.py</li> </ol> <pre><code>from .models import Fruit\nfrom django import forms\n\nclass FruitForm(forms.ModelForm):\n    class Meta:\n        model = Fruit\n        fields = '__all__'  # \u663e\u793a\u8868\u5355\u7684\u6240\u6709\u5b57\u6bb5,\u6216\u6307\u5b9a\u8981\u663e\u793a\u7684\u5b57\u6bb5\u5217\u8868\n</code></pre> <p>\u7136\u540e\u5728admin.py\u4e2d\u6ce8\u518c\u65f6\u6307\u5b9aform:</p> <pre><code>admin.site.register(Fruit, form=FruitForm)\n</code></pre> <ol> <li> <p>\u6700\u540e,\u53ef\u4ee5\u5b9a\u5236\u6a21\u578b\u7684\u5176\u4ed6\u663e\u793a\u9009\u9879,\u5982:</p> <ul> <li>verbose_name: \u66f4\u53cb\u597d\u7684\u663e\u793a\u540d  </li> <li>permissions: \u81ea\u5b9a\u4e49\u6743\u9650  </li> <li>ordering: \u9ed8\u8ba4\u6392\u5e8f\u9009\u9879\u7b49\u7b49\u3002</li> </ul> </li> </ol> <p>\u4ee5\u4e0a\u5c31\u662fDjango\u4e2d\u521b\u5efa\u6a21\u578b\u540e\u7684\u5e38\u89c1\u540e\u7eed\u5904\u7406\u6b65\u9aa4\u3002\u603b\u4f53\u6765\u8bf4\u4e3b\u8981\u662f\u4f7f\u5f97\u6a21\u578b\u5728Admin\u540e\u53f0SITE\u548c\u89c6\u56fe\u4e2d\u5177\u6709\u826f\u597d\u7684\u7f16\u8f91\u548c\u663e\u793a\u529f\u80fd\u3002</p>"},{"location":"2.%E5%88%9B%E5%BB%BA%E6%A8%A1%E5%9E%8B/6.%E4%BA%92%E7%9B%B8%E5%BC%95%E7%94%A8%E9%97%AE%E9%A2%98/","title":"6.\u4e92\u76f8\u5f15\u7528\u95ee\u9898","text":"<p>through\u7684\u503c\u662f\u4e00\u4e2astr!!! \u4e0d\u662f\u76ee\u6807model\u7684\u7c7b\u3002</p> <p>\u4f60\u8bf4\u5f97\u5bf9,\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d,Book\u548cBookAuthors\u4f1a\u4e92\u76f8\u4f9d\u8d56\u548c\u5f15\u7528\u3002\u6240\u4ee5,\u6211\u4eec\u4e0d\u80fd\u7b80\u5355\u5730\u4f9d\u9760\u5b9a\u4e49\u987a\u5e8f\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u9700\u8981\u4f7f\u7528\"\u5ef6\u8fdf\u6280\u5de7\"\u7684\u65b9\u6cd5:\u9996\u5148,\u6211\u4eec\u5c06BookAuthors\u5b9a\u4e49\u4e3a\u4e00\u4e2a\u5b57\u7b26\u4e32:</p> <p>python BookAuthors = 'BookAuthors'</p> <p>\u7136\u540e\u5b9a\u4e49Book\u6a21\u578b,\u5728\u5176\u4e2d\u901a\u8fc7\u5b57\u7b26\u4e32BookAuthors\u5f15\u7528BookAuthors:</p> <p>python class Book(models.Model):     name = models.CharField(max_length=100)     authors = models.ManyToManyField(Author, through=BookAuthors)</p> <p>\u6700\u540e,\u6211\u4eec\u4f7f\u7528<code>class_from_name()</code>\u52a8\u6001\u521b\u5efaBookAuthors\u7c7b:</p> <p>python  BookAuthors = class_from_name('BookAuthors', globals())  </p> <p>class BookAuthors(models.Model):     book = models.ForeignKey(Book, on_delete=models.CASCADE)     ...</p> <p>\u8fd9\u6837,\u6211\u4eec\u901a\u8fc7\u5728Book\u6a21\u578b\u4e2d\u9996\u6b21\u5f15\u7528BookAuthors\u5b57\u7b26\u4e32,\u8ba9Python\u5c06\u5176\u89e3\u6790\u4e3aBookAuthors\u7c7b,\u4e4b\u540eBookAuthors\u7c7b\u4e2d\u5c31\u53ef\u4ee5\u5f15\u7528Book\u6a21\u578b\u4e86\u3002 \u8fd9\u5b9e\u73b0\u4e86\u4e24\u8005\u7684\u4e92\u76f8\u4f9d\u8d56,\u89e3\u51b3\u4e86\u5b9a\u4e49\u987a\u5e8f\u7684\u95ee\u9898\u3002\u6240\u4ee5,\u5b8c\u6574\u7684\u6a21\u578b\u8bbe\u8ba1\u662f:</p> <p>python BookAuthors = 'BookAuthors'</p> <p>class Book(models.Model):     name = models.CharField(max_length=100)     authors = models.ManyToManyField(Author, through=BookAuthors)  </p> <p>BookAuthors = class_from_name('BookAuthors', globals())  </p> <p>class BookAuthors(models.Model):     book = models.ForeignKey(Book, on_delete=models.CASCADE)     author = models.ForeignKey(Author, on_delete=models.CASCADE)     rank = models.IntegerField() </p> <p>\u8fd9\u79cd\"\u5ef6\u8fdf\u6280\u5de7\"\u7684\u65b9\u5f0f\u4e0eC++\u4e2d\u7684\u524d\u7f6e\u58f0\u660e\u6bd4\u8f83\u7c7b\u4f3c\u3002\u5b83\u53ef\u4ee5\u8ba9\u6211\u4eec\u5728Python\u4e2d\u5b9a\u4e49\u4e92\u76f8\u4f9d\u8d56\u7684\u7c7b,\u907f\u514d\u5b9a\u4e49\u987a\u5e8f\u9519\u8bef\u3002\u7406\u89e3\u8fd9\u4e00\u6280\u5de7,\u53ef\u4ee5\u8ba9\u6211\u4eec\u5728Django\u6a21\u578b\u8bbe\u8ba1\u4e2d\u89e3\u51b3\u6bd4\u8f83\u590d\u6742\u7684\u7c7b\u4f9d\u8d56\u5173\u7cfb\u3002\u5982\u679c\u4f60\u6709\u4efb\u4f55\u5176\u4ed6\u95ee\u9898,\u6b22\u8fce\u5728\u8bc4\u8bba\u4e2d\u63d0\u51fa\u3002</p>"},{"location":"3.%E6%95%B0%E6%8D%AE%E8%AF%BB%E5%85%A5/1.%20scrapy.Spider/","title":"1. scrapy.Spider","text":"<p>\u4e00\u4e2a\u5178\u578b\u7684\u7ee7\u627f\u81eascrapy.Spider\u7684\u722c\u866b\u7c7b\u9700\u8981\u5b9e\u73b0\u4ee5\u4e0b\u51e0\u4e2a\u63a5\u53e3:</p> <ol> <li>name: \u722c\u866b\u540d\u79f0,\u9700\u8981\u552f\u4e00\u3002\u7528\u4e8e\u722c\u866b\u9879\u76ee\u7684\u8bc6\u522b\u3002</li> </ol> <pre><code>name = 'example_spider'\n</code></pre> <ol> <li>start_urls: \u722c\u866b\u5f00\u59cb\u722c\u53d6\u7684url\u5217\u8868\u3002\u722c\u866b\u4ece\u8fd9\u4e9burl\u5f00\u59cb\u722c\u53d6\u3002</li> </ol> <pre><code>start_urls = ['[http://example.com](http://example.com/)', '[http://example.org](http://example.org/)']\n</code></pre> <ol> <li>parse(): \u89e3\u6790start_urls\u548c\u5176\u4ed6\u9875\u9762\u4e2d\u7684\u94fe\u63a5(url)\u548c\u5185\u5bb9\u3002\u8be5\u65b9\u6cd5\u8d1f\u8d23\u89e3\u6790\u7f51\u9875\u548c\u63d0\u53d6\u6570\u636e\u3002</li> </ol> <pre><code>def parse(self, response):\n    ...  # \u89e3\u6790\u7f51\u9875,\u63d0\u53d6\u6570\u636e\n    ```\n\n4. log: \u65e5\u5fd7\u5bf9\u8c61\u3002[xn--self-955fz5af1uc15e.log.info](http://xn--self-955fz5af1uc15e.log.info/)()\u7b49\u65b9\u6cd5\u6253\u5370\u65e5\u5fd7\u3002\n\n```python\n[self.log.info](http://self.log.info/)('Scraping info from %s' % response.url)\n</code></pre> <ol> <li>allowed_domains: \u5141\u8bb8\u722c\u53d6\u7684\u57df\u540d\u5217\u8868\u3002\u722c\u866b\u53ea\u4f1a\u8ddf\u8e2a\u8fd9\u4e9b\u57df\u540d\u4e2d\u7684\u94fe\u63a5\u3002</li> </ol> <pre><code>allowed_domains = ['[example.com](http://example.com/)', '[example.org](http://example.org/)']\n</code></pre> <p>\u6240\u4ee5,\u603b\u7ed3\u6765\u8bf4,\u4e00\u4e2a\u5178\u578b\u7684Spider\u9700\u8981\u5b9e\u73b0: - name: \u722c\u866b\u540d\u79f0 - start_urls: \u521d\u59cburl\u5217\u8868\u00a0 - parse(): \u89e3\u6790\u7f51\u9875\u65b9\u6cd5 - log: \u65e5\u5fd7\u5bf9\u8c61 - allowed_domains: \u5141\u8bb8\u57df\u540d\u5217\u8868</p> <p>\u901a\u8fc7\u8fd9\u51e0\u4e2a\u63a5\u53e3,\u4e00\u4e2aSpider\u53ef\u4ee5\u5b8c\u6210\u57fa\u672c\u7684\u722c\u866b\u529f\u80fd: 1) \u4ecestart_urls\u5f00\u59cb\u722c\u53d6 2) \u53ea\u8ddf\u8e2aallowed_domains\u4e2d\u7684\u94fe\u63a5 3) \u4f7f\u7528parse()\u65b9\u6cd5\u89e3\u6790\u7f51\u9875\u548c\u63d0\u53d6\u6570\u636e\u00a0 4) \u4f7f\u7528log\u6253\u5370\u65e5\u5fd7</p> <p>\u9664\u6b64\u4e4b\u5916,\u8fd8\u53ef\u4ee5\u5b9e\u73b0: - item pipelines: \u6570\u636e\u6e05\u6d17\u3001\u9a8c\u8bc1 - middlewares: \u6269\u5c55\u722c\u866b\u529f\u80fd - settings: \u914d\u7f6e\u722c\u866b\u8bbe\u7f6e</p>"},{"location":"3.%E6%95%B0%E6%8D%AE%E8%AF%BB%E5%85%A5/2.%20%E6%9C%AC%E5%9C%B0%E6%A8%A1%E6%8B%9F/","title":"2. \u672c\u5730\u6a21\u62df","text":"<p>\u5982\u679c\u4e0d\u8fdb\u884c\u5b9e\u9645\u7684\u7f51\u7edc\u722c\u53d6,\u800c\u662f\u4ece\u672c\u5730XML\u6587\u4ef6\u8bfb\u53d6\u6570\u636e,\u90a3\u4e48\u9700\u8981\u5bf9Spider\u7c7b\u8fdb\u884c\u4e00\u5b9a\u7684\u4fee\u6539: 1. \u4e0d\u9700\u8981\u5b9a\u4e49start_urls\u3002\u56e0\u4e3a\u4e0d\u4f1a\u4ece\u7f51\u7edcURL\u5f00\u59cb\u722c\u53d6\u3002 2. parse()\u65b9\u6cd5\u9700\u8981\u4eceXML\u6587\u4ef6\u8bfb\u53d6\u6570\u636e,\u800c\u4e0d\u662f\u89e3\u6790\u7f51\u9875\u54cd\u5e94\u3002</p> <p>\u53ef\u4ee5\u8fd9\u6837\u5b9e\u73b0:</p> <pre><code>def parse(self, xml_file):\n    with open(xml_file) as f:\n        xml = f.read()\n    ...  # \u4eceXML\u6570\u636e\u4e2d\u89e3\u6790\u5e76\u63d0\u53d6\u4fe1\u606f\n</code></pre> <ol> <li>\u4e0d\u9700\u8981\u5b9a\u4e49allowed_domains\u3002\u56e0\u4e3a\u4e0d\u4f1a\u722c\u53d6\u7f51\u7ad9,\u53ea\u8bfb\u53d6\u672c\u5730\u6587\u4ef6\u3002</li> <li>\u9700\u8981\u5b9e\u73b0\u4eceXML\u6587\u4ef6\u8bfb\u53d6\u6570\u636e\u7684\u903b\u8f91\u3002\u53ef\u4ee5:<ul> <li>\u91cd\u5199Spider\u7684__init__\u65b9\u6cd5,\u5728\u5176\u4e2d\u8bfb\u53d6XML\u6587\u4ef6\u6570\u636e  </li> <li>\u6216\u8005\u5728parse()\u65b9\u6cd5\u4e2d\u8bfb\u53d6XML\u6587\u4ef6  </li> <li>\u6216\u8005\u5b9e\u73b0\u4e00\u4e2areader()\u65b9\u6cd5\u4e13\u95e8\u8bfb\u53d6XML\u6587\u4ef6,\u5728parse()\u4e2d\u8c03\u7528\u4f8b\u5982:</li> </ul> </li> </ol> <pre><code>class XmlSpider(Spider):\n    name = 'xml_spider'\n\n    def __init__(self, xml_file):\n        self.xml_data = self.read_xml(xml_file)\n\n    def read_xml(self, xml_file):\n        with open(xml_file) as f:\n            return f.read()\n\n    def parse(self, unused_response):\n        ...  # \u4eceself.xml_data\u89e3\u6790\u6570\u636e\n</code></pre> <p>5. \u9700\u8981\u81ea\u5df1\u6784\u9020\u54cd\u5e94\u5bf9\u8c61response\u4f20\u9012\u7ed9parse(),\u6765\u6a21\u62df\u7f51\u7edc\u54cd\u5e94\u3002</p> <pre><code>response = XmlResponse(url='[http://example.com](http://example.com/)', body=self.xml_data, encoding='utf-8')\nself.parse(response)\n</code></pre> <p>XmlResponse\u662f\u4e00\u4e2a\u9700\u8981\u81ea\u5df1\u6784\u5efa\u7684\u54cd\u5e94\u7c7b,\u7ee7\u627f\u81eaTextResponse,\u5176data\u5c5e\u6027\u4e3aXML\u6587\u672c\u6570\u636e\u3002 \u6240\u4ee5,\u603b\u7ed3\u6765\u8bf4,\u8bfb\u53d6\u672c\u5730XML\u6587\u4ef6\u800c\u4e0d\u662f\u722c\u53d6\u7f51\u7edc\u6570\u636e\u7684Spider\u9700\u8981: 1) \u4e0d\u5b9a\u4e49start_urls\u548callowed_domains 2) \u91cd\u5199__init__\u6216\u5b9e\u73b0reader()\u65b9\u6cd5\u8bfb\u53d6XML\u6570\u636e 3) \u5728parse()\u65b9\u6cd5\u4e2d\u89e3\u6790\u8bfb\u53d6\u5230\u7684XML\u6570\u636e,\u800c\u4e0d\u662f\u7f51\u9875\u54cd\u5e94\u00a0 4) \u6784\u9020\u54cd\u5e94\u5bf9\u8c61response\u4f20\u9012\u7ed9parse(),\u6a21\u62df\u7f51\u7edc\u54cd\u5e94</p>"},{"location":"3.%E6%95%B0%E6%8D%AE%E8%AF%BB%E5%85%A5/3.%20%E5%9C%A8%E5%89%8D%E7%AB%AF%E5%B1%95%E7%A4%BA%E7%88%AC%E5%8F%96%E8%BF%9B%E5%BA%A6/","title":"3. \u5728\u524d\u7aef\u5c55\u793a\u722c\u53d6\u8fdb\u5ea6","text":"<p>\u5bf9\u4e8e\u4ece\u672c\u5730\u8bfb\u53d6\u7f51\u9875\u6570\u636e\u7684\u722c\u866b,\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u5b9e\u73b0\u5728\u524d\u7aef\u663e\u793a\u722c\u53d6\u8fdb\u5ea6:</p> <ol> <li>\u5728spider.py\u4e2d\u7f16\u5199\u722c\u866b\u903b\u8f91\u65f6,\u83b7\u53d6\u603b\u7684\u7f51\u9875\u6570\u91cftotal_count</li> <li>\u5728pipelines.py\u4e2d\u5b9a\u4e49\u4e00\u4e2a\u722c\u53d6\u8fdb\u5ea6\u7684item_pipeline:</li> </ol> <pre><code>class ProgressPipeline(object):\n    total_count = 0  # \u4ecespider\u4e2d\u83b7\u53d6\u603b\u6570\n\n    def open_spider(self, spider):\n        self.current_count = 0\n        self.total_count = spider.total_count  # \u83b7\u53d6\u603b\u6570\n\n    def process_item(self, item, spider):\n        self.current_count += 1\n        progress = self.current_count / self.total_count * 100\n        print(f'Progress: {progress:.2f}%')\n</code></pre> <ol> <li>\u5728settings.py\u4e2d\u542f\u7528\u8be5item_pipeline</li> <li>\u5728spider.py\u7684__init__\u65b9\u6cd5\u4e2d\u5b9a\u4e49total_count,\u8ba9ProgressPipeline\u83b7\u53d6</li> </ol> <pre><code>class ExampleSpider(Spider):\n    name = 'example'\n    total_count = 1000   # \u603b\u7f51\u9875\u6570\u91cf\n</code></pre> <ol> <li>\u5728\u524d\u7aef\u521b\u5efa\u4e00\u4e2aprogress\u7ec4\u4ef6(\u6bd4\u5982progress bar),\u5728\u5176\u4e0a\u8bf7\u6c42\u5b9a\u671f\u5237\u65b0\u7684API,\u8be5API\u8bfb\u53d6\u65e5\u5fd7\u4e2d\u7684\u8fdb\u5ea6\u6253\u5370\u4fe1\u606f,\u8fd4\u56de\u6700\u65b0\u8fdb\u5ea6\u5230\u524d\u7aef\u3002</li> <li>\u524d\u7aef\u6bcf\u79d2(\u6216500\u6beb\u79d2)\u8bf7\u6c42\u4e00\u6b21\u8be5API,\u5b9e\u65f6\u66f4\u65b0progress bar\u7684\u8fdb\u5ea6,\u5b9e\u73b0\u52a8\u6001\u663e\u793a\u722c\u53d6\u8fdb\u5ea6\u3002\u8fd9\u79cd\u65b9\u5f0f\u7684\u5de5\u4f5c\u6d41\u7a0b\u662f:     1) \u722c\u866b\u542f\u52a8\u65f6,\u4ecespider\u7c7b\u4e2d\u83b7\u53d6\u603b\u6570\u91cftotal_count     2) item_pipeline\u5728\u5f00\u542f\u722c\u866b\u65f6\u83b7\u53d6\u603b\u6570,\u5e76\u5b9a\u4e49\u5f53\u524d\u8fdb\u5ea6current_count     3) item_pipeline\u5728\u5904\u7406\u6bcf\u4e2aitem\u65f6\u589e\u52a0\u5f53\u524d\u8fdb\u5ea6,\u5e76\u6253\u5370\u65e5\u5fd7     4) \u524d\u7aef\u5b9a\u671f\u8bf7\u6c42API,API\u8bfb\u53d6\u6700\u65b0\u65e5\u5fd7\u83b7\u53d6\u5f53\u524d\u8fdb\u5ea6     5) \u524d\u7aef\u5b9e\u65f6\u66f4\u65b0progress\u7ec4\u4ef6,\u663e\u793a\u6700\u65b0\u8fdb\u5ea6</li> </ol> <p>\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f,\u6211\u4eec\u53ef\u4ee5\u8ba9\u524d\u7aef\u52a8\u6001\u663e\u793a\u672c\u5730\u7f51\u9875\u722c\u53d6\u7684\u8fdb\u5ea6,\u8fd9\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u6a21\u62df\u4e86\u5206\u5e03\u5f0f\u722c\u866b\u7684\u6548\u679c\u3002</p>"},{"location":"3.%E6%95%B0%E6%8D%AE%E8%AF%BB%E5%85%A5/4.%20%E9%80%9F%E5%BA%A6%E4%BC%98%E5%8C%96/","title":"4. \u901f\u5ea6\u4f18\u5316","text":"<p>\u867d\u7136\u672c\u6b21\u4f5c\u4e1a\u4e2d\u8981\u7d22\u5f15\u7684\u7f51\u9875\u662f\u9759\u6001\u7684\uff0c\u4f46\u8003\u8651\u5230\u201d\u641c\u7d22\u5f15\u64ce\u201c\u8fd9\u4e2a\u540d\u5b57\uff0c\u6211\u4eec\u8fd8\u662f\u5047\u88c5\u4ee5\u540e\u8981\u5b9a\u671f\u66f4\u65b0\u7f51\u9875\u4fe1\u606f\uff0c\u56e0\u6b64\u5728\u6a21\u578b\u4e2d\u5927\u91cf\u7528\u5230update_or_create()\u3002\u8fd9\u5927\u5927\u62d6\u6162\u4e86\u901f\u5ea6\uff0c\u8d8a\u5230\u540e\u671f\u8fd9\u4e2a\u51fd\u6570\u8981\u67e5\u8be2\u7684\u6570\u636e\u8d8a\u591a\uff0c\u8fd0\u884c\u4e5f\u5c31\u8d8a\u6162\uff0c\u76ee\u6d4b\u7ed3\u675f\u65f6\u6bd4\u5f00\u59cb\u65f6\u6162\u4e86\u5341\u500d\u5de6\u53f3\uff0c\u5982\u4e0b( \u672c\u6765\u7528create()\u7684\u8bdd\u5927\u6982\u53ea\u9700\u89811\u4e2a\u534a\u5c0f\u65f6)\uff1a</p> <p>![[154539f60afffe37484adfed07f1d9c4_MD5.png]]</p> <p>\u67e5\u770b\u4e86[[\u4f18\u5316sqlite3\u901f\u5ea6]]\u4e4b\u540e\uff0c\u6211\u7b2c\u4e00\u6b65\u505a\u7684\u662f\u5728django\u91cc\u50cf\u4ed6\u4e00\u6837\u663e\u793a\u5f00\u542f\u4efb\u52a1\uff0c\u6279\u91cf\u6267\u884cSQL\u8bed\u53e5\u3002</p> <p>\u5177\u4f53\u505a\u6cd5\u662f\u5728\u51e0\u4e2a\u57fa\u7840\u7684\u51fd\u6570\u4e0a\u6dfb\u52a0\u4e86<code>@transaction.atomic</code>\u6807\u8bb0\u3002</p> <p>\u6539\u524d\u524d5000\u6761\u7528\u65f6\uff1a</p> <pre><code>\u5f53\u524d\u8fdb\u5ea6\uff1a999/68417\uff0c\u603b\u7528\u65f6\uff1a123.65395903587341\u79d2\n\u5f53\u524d\u8fdb\u5ea6\uff1a1999/68417\uff0c\u603b\u7528\u65f6\uff1a246.55316972732544\u79d2\n\u5f53\u524d\u8fdb\u5ea6\uff1a2999/68417\uff0c\u603b\u7528\u65f6\uff1a371.1040680408478\u79d2\n\u5f53\u524d\u8fdb\u5ea6\uff1a3999/68417\uff0c\u603b\u7528\u65f6\uff1a506.7788779735565\u79d2\n\u5f53\u524d\u8fdb\u5ea6\uff1a4999/68417\uff0c\u603b\u7528\u65f6\uff1a641.8681755065918\u79d2\n</code></pre> <p>\u6539\u540e\u524d10000\u6761\u7528\u65f6\uff1a</p> <pre><code>\u5f53\u524d\u8fdb\u5ea6\uff1a999/68417\u7528\u65f6\uff1a34.04985427856445\u79d2\n\u5f53\u524d\u8fdb\u5ea6\uff1a1999/68417\u7528\u65f6\uff1a72.40004515647888\u79d2\n\u5f53\u524d\u8fdb\u5ea6\uff1a2999/68417\u7528\u65f6\uff1a118.16527771949768\u79d2\n\u5f53\u524d\u8fdb\u5ea6\uff1a3999/68417\u7528\u65f6\uff1a170.25840783119202\u79d2\n\u5f53\u524d\u8fdb\u5ea6\uff1a4999/68417\u7528\u65f6\uff1a221.5308060646057\u79d2\n\u5f53\u524d\u8fdb\u5ea6\uff1a5999/68417\u7528\u65f6\uff1a277.9871973991394\u79d2\n\u5f53\u524d\u8fdb\u5ea6\uff1a6999/68417\u7528\u65f6\uff1a339.6625759601593\u79d2\n\u5f53\u524d\u8fdb\u5ea6\uff1a7999/68417\u7528\u65f6\uff1a404.6741075515747\u79d2\n\u5f53\u524d\u8fdb\u5ea6\uff1a8999/68417\u7528\u65f6\uff1a472.87201833724976\u79d2\n\u5f53\u524d\u8fdb\u5ea6\uff1a9999/68417\u7528\u65f6\uff1a543.7172710895538\u79d2\n</code></pre> <p>\u901f\u5ea6\u63d0\u5347\u6bd4\u8f83\u660e\u663e\u3002</p> <p>\u540e\u7eed\u7ed3\u5408\u7d22\u5f15\uff0c\u66f4\u65b0/\u6dfb\u52a0\u6570\u636e\u7684\u901f\u5ea6\u66f4\u5feb\u3002\u4e0b\u9762\u662f\u4f18\u5316\u540e\u5411\u4e00\u4e2a\u7a7a\u6570\u636e\u5e93\u6dfb\u52a0\u6240\u6709\u6570\u636e\u7684\u7528\u65f6\uff0c\u901f\u5ea6\u76f8\u8f83\u4e8e\u6ca1\u6709\u4f18\u5316\u65f6\u63d0\u9ad8\u4e867\u500d\u3002</p> <p>![[76d98faade2f6beb28b5a55cdddee671_MD5.png]]</p> <p>TODO: \u5176\u4ed6\u4f18\u5316\u7b56\u7565\uff1a</p> <ol> <li>\u4f7f\u7528\u591a\u8fdb\u7a0b\u6216\u591a\u7ebf\u7a0b\u3002\u7531\u4e8e\u6570\u636e\u662f\u672c\u5730\u7684,\u591a\u8fdb\u7a0b/\u7ebf\u7a0b\u53ef\u4ee5\u6709\u6548\u5730\u63d0\u9ad8\u8bfb\u53d6\u901f\u5ea6\u3002\u4f60\u53ef\u4ee5\u542f\u52a8\u591a\u4e2a\u8fdb\u7a0b/\u7ebf\u7a0b,\u6bcf\u4e2a\u8fdb\u7a0b/\u7ebf\u7a0b\u8bfb\u53d6\u548c\u89e3\u6790\u90e8\u5206\u6570\u636e,\u6700\u540e\u5408\u5e76\u7ed3\u679c\u3002</li> <li>\u91c7\u7528\u66f4\u9ad8\u6548\u7684\u89e3\u6790\u5e93\u3002bs4 \u662f\u6bd4\u8f83\u7b80\u5355\u7684\u89e3\u6790\u5e93,\u89e3\u6790\u6548\u7387\u8f83\u4f4e\u3002\u4f60\u53ef\u4ee5\u8003\u8651\u4f7f\u7528 lxml \u6216 html5lib \u7b49\u89e3\u6790\u5e93,\u5b83\u4eec\u7684\u89e3\u6790\u901f\u5ea6\u4f1a\u5feb\u5f88\u591a\u3002</li> <li>\u7f13\u5b58\u89e3\u6790\u7ed3\u679c\u3002\u8bfb\u53d6\u548c\u89e3\u6790\u7f51\u9875\u662f\u6bd4\u8f83\u8017\u65f6\u7684\u64cd\u4f5c,\u4f60\u53ef\u4ee5\u8003\u8651\u5c06\u89e3\u6790\u7ed3\u679c\u7f13\u5b58,\u907f\u514d\u91cd\u590d\u89e3\u6790\u540c\u4e00\u4e2a\u7f51\u9875\u3002</li> <li>\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684\u5b57\u7b26\u4e32\u64cd\u4f5c\u3002\u5728\u89e3\u6790\u548c\u63d0\u53d6\u4fe1\u606f\u7684\u8fc7\u7a0b\u4e2d,\u907f\u514d\u8fc7\u591a\u7684\u5b57\u7b26\u4e32\u62fc\u63a5\u3001\u5206\u5272\u7b49\u64cd\u4f5c,\u8fd9\u4f1a\u964d\u4f4e\u6548\u7387\u3002</li> <li>\u63d0\u53d6\u5173\u952e\u4fe1\u606f\u3002\u5bf9\u7f51\u9875\u8fdb\u884c\u805a\u7126\u5f0f\u89e3\u6790,\u907f\u514d\u89e3\u6790\u548c\u63d0\u53d6\u65e0\u7528\u4fe1\u606f\u3002\u53ea\u63d0\u53d6\u4f60\u771f\u6b63\u9700\u8981\u7684\u5185\u5bb9\u3002</li> <li>\u4f7f\u7528\u751f\u6210\u5668\u51fd\u6570\u3002\u5728\u5b58\u5165\u6a21\u578b\u7684\u8fc7\u7a0b\u4e2d,\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u751f\u6210\u5668\u51fd\u6570,\u8fd9\u53ef\u4ee5\u907f\u514d\u4e00\u6b21\u6027\u5c06\u6240\u6709\u6570\u636e\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d,\u4ece\u800c\u63d0\u9ad8\u6548\u7387\u3002\u4e00\u4e2a\u793a\u4f8b: </li> </ol> <pre><code>from multiprocessing import Pool\nfrom lxml import html\n\ndef parse(html_file):\n    # \u4f7f\u7528lxml\u89e3\u6790,\u6548\u7387\u66f4\u9ad8\n    with open(html_file) as f:\n        doc = html.fromstring(f.read())\n    # \u53ea\u63d0\u53d6\u5173\u952e\u4fe1\u606f\n    infos = doc.xpath(...)  \n\n    for info in infos:\n        # \u4f7f\u7528\u751f\u6210\u5668\u51fd\u6570\n        yield Model(info) \nif __name__ == '__main__':\n    pool = Pool() # \u542f\u52a8\u591a\u8fdb\u7a0b\u6c60\n    files = [f for f in os.listdir('data')]  # \u5f85\u89e3\u6790\u7684\u7f51\u9875\n    pool.map(partial(parse), files)  # \u591a\u8fdb\u7a0b\u89e3\u6790\u7f51\u9875\n</code></pre>"},{"location":"3.%E6%95%B0%E6%8D%AE%E8%AF%BB%E5%85%A5/reference/%E4%BC%98%E5%8C%96sqlite3%E9%80%9F%E5%BA%A6/","title":"\u4f18\u5316sqlite3\u901f\u5ea6","text":"<p>0 \u524d\u8a00 SQLite\u6570\u636e\u5e93\u7531\u4e8e\u5176\u7b80\u5355\u3001\u7075\u6d3b\u3001\u8f7b\u91cf\u3001\u5f00\u6e90\uff0c\u5df2\u7ecf\u88ab\u8d8a\u6765\u8d8a\u591a\u7684\u88ab\u5e94\u7528\u5230\u4e2d\u5c0f\u578b\u5e94\u7528\u4e2d\u3002\u751a\u81f3\u6709\u4eba\u8bf4\uff0cSQLite\u5b8c\u5168\u53ef\u4ee5\u7528\u6765\u53d6\u4ee3c\u8bed\u8a00\u4e2d\u7684\u6587\u4ef6\u8bfb\u5199\u64cd\u4f5c\u3002\u56e0\u6b64\u6211\u6700\u8fd1\u7f16\u5199\u6709\u5173\u9065\u611f\u6570\u636e\u5904\u7406\u7684\u7a0b\u5e8f\u7684\u65f6\u5019\uff0c\u4e5f\u5c06SQLite\u5f15\u5165\u8fdb\u6765\uff0c\u4ee5\u63d0\u9ad8\u6570\u636e\u7684\u7ed3\u6784\u5316\u7a0b\u5ea6\uff0c\u5e76\u4e14\u63d0\u9ad8\u5927\u6570\u636e\u7684\u5904\u7406\u80fd\u529b\uff08SQLite\u6700\u9ad8\u652f\u63012PB\u5927\u5c0f\u7684\u6570\u636e\uff09\u3002\u4f46\u662f\u6700\u5f00\u59cb\uff0c\u6211\u53d1\u73b0\uff0c\u76f4\u63a5\u4f7f\u7528SQL\u8bed\u53e5\u7684\u63d2\u5165\u6548\u7387\u7b80\u76f4\u4f4e\u7684\u4ee4\u4eba\u53d1\u6307\u7684\u3002\u540e\u6765\u4e0d\u65ad\u67e5\u6587\u6863\u3001\u67e5\u8d44\u6599\uff0c\u624d\u53d1\u73b0\u4e86\u4e00\u6761\u5feb\u901f\u7684\u201c\u6570\u636e\u63d2\u5165\u201d\u4e4b\u8def\u3002\u672c\u6587\u5c31\u4ee5\u63d2\u5165\u6570\u636e\u4e3a\u4f8b\uff0c\u6574\u5408\u7f51\u4e0a\u548c\u8d44\u6599\u4e66\u4e2d\u7684\u5404\u79cd\u63d0\u9ad8SQLite\u6548\u7387\u7684\u65b9\u6cd5\uff0c\u7ed9\u51fa\u63d0\u9ad8SQLite\u6570\u636e\u63d2\u5165\u6548\u7387\u7684\u5b8c\u6574\u65b9\u6cd5\u3002\uff08\u5927\u795e\u4eec\u52ff\u55b7\uff09</p> <p>1 \u6570\u636e</p> <p>\u6211\u4f7f\u7528\u7684\u7535\u8111\u662fWin7 64\u4f4d\u7cfb\u7edf\uff0c\u4f7f\u7528VC2010\u7f16\u8bd1\uff0cSQLIte\u7248\u672c\u4e3a3.7.15.2 \uff0c\u7535\u8111CPU\u4e3a\u4e8c\u4ee3i3\u5904\u7406\u5668\uff0c\u5185\u5b586G\u3002</p> <p>\u5b9e\u9a8c\u4e4b\u524d\uff0c\u5148\u5efa\u7acb\u8981\u63d2\u5165\u6570\u636e\u7684\u8868:</p> <pre><code>create table t1 (id integer , x integer , y integer\uff0c weight real)\n</code></pre> <p>2 \u6162\u901f\u2014\u2014\u6700\u7c97\u66b4\u7684\u65b9\u6cd5</p> <p>SQLite\u7684API\u4e2d\u76f4\u63a5\u6267\u884cSQL\u7684\u51fd\u6570\u662f\uff1a</p> <pre><code>int sqlite3_exec(  sqlite3*,    const char *sql,   int (*callback)(void*,int,char**,char**),   void *,   char **errmsg)\n</code></pre> <p>\u76f4\u63a5\u4f7f\u7528INSERT\u8bed\u53e5\u7684\u5b57\u7b26\u4e32\u8fdb\u884c\u63d2\u5165\uff0c\u7a0b\u5e8f\u90e8\u5206\u4ee3\u7801\uff08\u5b8c\u6574\u4ee3\u7801\u89c1\u540e\u6587\uff09\uff0c\u5982\u4e0b\uff1a</p> <pre><code>for(int i=0;i&lt;nCount;++i)\n{\n    std::stringstream ssm;\n    ssm&lt;&lt;\"insert into t1 values(\"&lt;&lt;i&lt;&lt;\",\"&lt;&lt;i*2&lt;&lt;\",\"&lt;&lt;i/2&lt;&lt;\",\"&lt;&lt;i*i&lt;&lt;\")\";\n    sqlite3_exec(db,ssm.str().c_str(),0,0,0);\n}\n</code></pre> <p>\u8fd9\u4e2a\u7a0b\u5e8f\u8fd0\u884c\u7684\u592a\u6162\u4e86\uff0c\u6211\u5df2\u7ecf\u6ca1\u65f6\u95f4\u7b49\u5f85\u4e86\uff0c\u4f30\u7b97\u4e86\u4e00\u4e0b\uff0c\u57fa\u672c\u4e0a\u662f  7.826 \u6761/s</p> <p>3 \u4e2d\u901f\u2014\u2014\u663e\u5f0f\u5f00\u542f\u4e8b\u52a1</p> <p>\u6240\u8c13\u201d\u4e8b\u52a1\u201c\u5c31\u662f\u6307\u4e00\u7ec4SQL\u547d\u4ee4\uff0c\u8fd9\u4e9b\u547d\u4ee4\u8981\u4e48\u4e00\u8d77\u6267\u884c\uff0c\u8981\u4e48\u90fd\u4e0d\u88ab\u6267\u884c\u3002\u5728SQLite\u4e2d\uff0c\u6bcf\u8c03\u7528\u4e00\u6b21sqlite3_exec()\u51fd\u6570\uff0c\u5c31\u4f1a\u9690\u5f0f\u5730\u5f00\u542f\u4e86\u4e00\u4e2a\u4e8b\u52a1\uff0c\u5982\u679c\u63d2\u5165\u4e00\u6761\u6570\u636e\uff0c\u5c31\u8c03\u7528\u8be5\u51fd\u6570\u4e00\u6b21\uff0c\u4e8b\u52a1\u5c31\u4f1a\u88ab\u53cd\u590d\u5730\u5f00\u542f\u3001\u5173\u95ed\uff0c\u4f1a\u589e\u5927IO\u91cf\u3002\u5982\u679c\u5728\u63d2\u5165\u6570\u636e\u524d\u663e\u5f0f\u5f00\u542f\u4e8b\u52a1\uff0c\u63d2\u5165\u540e\u518d\u4e00\u8d77\u63d0\u4ea4\uff0c\u5219\u4f1a\u5927\u5927\u63d0\u9ad8IO\u6548\u7387\uff0c\u8fdb\u800c\u52a0\u6570\u636e\u5feb\u63d2\u5165\u901f\u5ea6\u3002</p> <p>\u5f00\u542f\u4e8b\u52a1\u53ea\u9700\u5728\u4e0a\u8ff0\u4ee3\u7801\u7684\u524d\u540e\u5404\u52a0\u4e00\u53e5\u5f00\u542f\u4e0e\u63d0\u4ea4\u4e8b\u52a1\u7684\u547d\u4ee4\u5373\u53ef\uff1a</p> <pre><code>sqlite3_exec(db,\"begin;\",0,0,0);\nfor(int i=0;i&lt;nCount;++i)\n{\n    std::stringstream ssm;\n    ssm&lt;&lt;\"insert into t1 values(\"&lt;&lt;i&lt;&lt;\",\"&lt;&lt;i*2&lt;&lt;\",\"&lt;&lt;i/2&lt;&lt;\",\"&lt;&lt;i*i&lt;&lt;\")\";\n    sqlite3_exec(db,ssm.str().c_str(),0,0,0);\n}\nsqlite3_exec(db,\"commit;\",0,0,0);\n</code></pre> <p>\u663e\u5f0f\u5f00\u542f\u4e8b\u52a1\u540e\uff0c\u8fd9\u4e2a\u7a0b\u5e8f\u8fd0\u884c\u8d77\u6765\u660e\u663e\u5feb\u5f88\u591a\uff0c\u4f30\u7b97\u6548\u7387\u8fbe\u5230\u4e8634095\u6761/s\uff0c\u8f83\u539f\u59cb\u65b9\u6cd5\u63d0\u5347\u7ea65000\u500d\u3002</p> <p>4 \u9ad8\u901f\u2014\u2014\u5199\u540c\u6b65(synchronous)</p> <p>\u6211\u8981\u4f7f\u7528\u4e00\u4e2a\u9065\u611f\u5904\u7406\u7b97\u6cd5\u5904\u740610000*10000\u7684\u5f71\u50cf\uff0c\u4e2d\u95f4\u6709\u4e00\u6b65\u9700\u8981\u63d2\u5165100000000\u6761\u6570\u636e\u5230\u6570\u636e\u5e93\u4e2d\uff0c\u5982\u679c\u6309\u7167\u5f00\u542f\u4e8b\u52a1\u540e\u7684\u901f\u5ea634095\u6761/s\uff0c\u5219\u9700\u8981100000000\u00f734095 = 2932\u79d2 = 48.9\u5206\uff0c\u4ecd\u7136\u4e0d\u80fd\u591f\u63a5\u53d7\uff0c\u6240\u4ee5\u6211\u63a5\u7740\u627e\u63d0\u5347\u901f\u5ea6\u7684\u65b9\u6cd5\u3002\u7ec8\u4e8e\uff0c\u5728\u6709\u5173\u8bb2\u89e3SQLite\u914d\u7f6e\u7684\u8d44\u6599\u4e2d\uff0c\u770b\u5230\u4e86\u201c\u5199\u540c\u6b65\u201d\u9009\u9879\u3002</p> <p>\u5728SQLite\u4e2d\uff0c\u6570\u636e\u5e93\u914d\u7f6e\u7684\u53c2\u6570\u90fd\u7531\u7f16\u8bd1\u6307\u793a\uff08pragma\uff09\u6765\u5b9e\u73b0\u7684\uff0c\u800c\u5176\u4e2dsynchronous\u9009\u9879\u6709\u4e09\u79cd\u53ef\u9009\u72b6\u6001\uff0c\u5206\u522b\u662ffull\u3001normal\u3001off\u3002\u8fd9\u7bc7\u535a\u5ba2\u4ee5\u53ca\u5b98\u65b9\u6587\u6863\u91cc\u9762\u6709\u8be6\u7ec6\u8bb2\u5230\u8fd9\u4e09\u79cd\u53c2\u6570\u7684\u8bbe\u7f6e\u3002\u7b80\u8981\u8bf4\u6765\uff0cfull\u5199\u5165\u901f\u5ea6\u6700\u6162\uff0c\u4f46\u4fdd\u8bc1\u6570\u636e\u662f\u5b89\u5168\u7684\uff0c\u4e0d\u53d7\u65ad\u7535\u3001\u7cfb\u7edf\u5d29\u6e83\u7b49\u5f71\u54cd\uff0c\u800coff\u53ef\u4ee5\u52a0\u901f\u6570\u636e\u5e93\u7684\u4e00\u4e9b\u64cd\u4f5c\uff0c\u4f46\u5982\u679c\u7cfb\u7edf\u5d29\u6e83\u6216\u65ad\u7535\uff0c\u5219\u6570\u636e\u5e93\u53ef\u80fd\u4f1a\u635f\u6bc1\u3002</p> <p>SQLite3\u4e2d\uff0c\u8be5\u9009\u9879\u7684\u9ed8\u8ba4\u503c\u5c31\u662ffull\uff0c\u5982\u679c\u6211\u4eec\u518d\u63d2\u5165\u6570\u636e\u524d\u5c06\u5176\u6539\u4e3aoff\uff0c\u5219\u4f1a\u63d0\u9ad8\u6548\u7387\u3002\u5982\u679c\u4ec5\u4ec5\u5c06SQLite\u5f53\u505a\u4e00\u79cd\u4e34\u65f6\u6570\u636e\u5e93\u7684\u8bdd\uff0c\u5b8c\u5168\u6ca1\u5fc5\u8981\u8bbe\u7f6e\u4e3afull\u3002\u5728\u4ee3\u7801\u4e2d\uff0c\u8bbe\u7f6e\u65b9\u6cd5\u5c31\u662f\u5728\u6253\u5f00\u6570\u636e\u5e93\u4e4b\u540e\uff0c\u76f4\u63a5\u63d2\u5165\u4ee5\u4e0b\u8bed\u53e5\uff1a</p> <pre><code>sqlite3_exec(db,\"PRAGMA synchronous = OFF; \",0,0,0);\n</code></pre> <p>\u6b64\u65f6\uff0c\u7ecf\u8fc7\u6d4b\u8bd5\uff0c\u63d2\u5165\u901f\u5ea6\u5df2\u7ecf\u53d8\u6210\u4e86 41851\u6761/s\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u63d2\u5165100000000\u6761\u6570\u636e\uff0c\u9700\u89812389\u79d2 = 39.8\u5206\u3002</p> <p>5 \u6781\u901f\u2014\u2014\u6267\u884c\u51c6\u5907</p> <p>\u867d\u7136\u5199\u540c\u6b65\u8bbe\u4e3aoff\u540e\uff0c\u901f\u5ea6\u53c8\u6709\u5c0f\u5e45\u63d0\u5347\uff0c\u4f46\u662f\u4ecd\u7136\u8f83\u6162\u3002\u6211\u53c8\u4e00\u6b21\u8e0f\u4e0a\u4e86\u5bfb\u627e\u63d0\u9ad8SQLite\u63d2\u5165\u6548\u7387\u65b9\u6cd5\u7684\u9053\u8def\u4e0a\u3002\u7ec8\u4e8e\uff0c\u6211\u53d1\u73b0\uff0cSQLite\u6267\u884cSQL\u8bed\u53e5\u7684\u65f6\u5019\uff0c\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a\u4e00\u79cd\u662f\u4f7f\u7528\u524d\u6587\u63d0\u5230\u7684\u51fd\u6570sqlite3_exec()\uff0c\u8be5\u51fd\u6570\u76f4\u63a5\u8c03\u7528\u5305\u542bSQL\u8bed\u53e5\u7684\u5b57\u7b26\u4e32\uff1b\u53e6\u4e00\u79cd\u65b9\u6cd5\u5c31\u662f\u201c\u6267\u884c\u51c6\u5907\u201d\uff08\u7c7b\u4f3c\u4e8e\u5b58\u50a8\u8fc7\u7a0b\uff09\u64cd\u4f5c\uff0c\u5373\u5148\u5c06SQL\u8bed\u53e5\u7f16\u8bd1\u597d\uff0c\u7136\u540e\u518d\u4e00\u6b65\u4e00\u6b65\uff08\u6216\u4e00\u884c\u4e00\u884c\uff09\u5730\u6267\u884c\u3002\u5982\u679c\u91c7\u7528\u524d\u8005\u7684\u8bdd\uff0c\u5c31\u7b97\u5f00\u8d77\u4e86\u4e8b\u52a1\uff0cSQLite\u4ecd\u7136\u8981\u5bf9\u5faa\u73af\u4e2d\u6bcf\u4e00\u53e5SQL\u8bed\u53e5\u8fdb\u884c\u201c\u8bcd\u6cd5\u5206\u6790\u201d\u548c\u201c\u8bed\u6cd5\u5206\u6790\u201d\uff0c\u8fd9\u5bf9\u4e8e\u540c\u65f6\u63d2\u5165\u5927\u91cf\u6570\u636e\u7684\u64cd\u4f5c\u6765\u8bf4\uff0c\u7b80\u76f4\u5c31\u662f\u6d6a\u8d39\u65f6\u95f4\u3002\u56e0\u6b64\uff0c\u8981\u8fdb\u4e00\u6b65\u63d0\u9ad8\u63d2\u5165\u6548\u7387\u7684\u8bdd\uff0c\u5c31\u5e94\u8be5\u4f7f\u7528\u540e\u8005\u3002</p> <p>\u201c\u6267\u884c\u51c6\u5907\u201d\u4e3b\u8981\u5206\u4e3a\u4e09\u5927\u6b65\u9aa4\uff1a</p> <p>1.\u8c03\u7528\u51fd\u6570</p> <pre><code>int sqlite3_prepare_v2( sqlite3 *db,  const char *zSql,  int nByte,  sqlite3_stmt **ppStmt,  const char **pzTail);\n</code></pre> <p>\u5e76\u4e14\u58f0\u660e\u4e00\u4e2a\u6307\u5411sqlite3_stmt\u5bf9\u8c61\u7684\u6307\u9488\uff0c\u8be5\u51fd\u6570\u5bf9\u53c2\u6570\u5316\u7684SQL\u8bed\u53e5zSql\u8fdb\u884c\u7f16\u8bd1\uff0c\u5c06\u7f16\u8bd1\u540e\u7684\u72b6\u6001\u5b58\u5165ppStmt\u4e2d\u3002</p> <p>2.\u8c03\u7528\u51fd\u6570 sqlite3_step() \uff0c\u8fd9\u4e2a\u51fd\u6570\u5c31\u662f\u6267\u884c\u4e00\u6b65\uff08\u672c\u4f8b\u4e2d\u5c31\u662f\u63d2\u5165\u4e00\u884c\uff09\uff0c\u5982\u679c\u51fd\u6570\u8fd4\u56de\u7684\u662fSQLite_ROW\u5219\u8bf4\u660e\u4ecd\u5728\u7ee7\u7eed\u6267\u884c\uff0c\u5426\u5219\u5219\u8bf4\u660e\u5df2\u7ecf\u6267\u884c\u5b8c\u6240\u6709\u64cd\u4f5c\uff1b</p> <p>3.\u8c03\u7528\u51fd\u6570 sqlite3_finalize()\uff0c\u5173\u95ed\u8bed\u53e5\u3002</p> <p>\u5173\u4e8e\u6267\u884c\u51c6\u5907\u7684API\u7684\u5177\u4f53\u8bed\u6cd5\uff0c\u8be6\u89c1\u5b98\u65b9\u6587\u6863\u3002\u672c\u6587\u4e2d\u6267\u884c\u51c6\u5907\u7684c++\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>sqlite3_exec(db,\"begin;\",0,0,0);\n    sqlite3_stmt *stmt;\n    const char* sql = \"insert into t1 values(?,?,?,?)\";\n    sqlite3_prepare_v2(db,sql,strlen(sql),&amp;stmt,0);\n\n    for(int i=0;i&lt;nCount;++i)\n    {       \n        sqlite3_reset(stmt);\n        sqlite3_bind_int(stmt,1,i);\n        sqlite3_bind_int(stmt,1,i*2);\n        sqlite3_bind_int(stmt,1,i/2);\n        sqlite3_bind_double(stmt,1,i*i);\n    }\n    sqlite3_finalize(stmt);\n    sqlite3_exec(db,\"commit;\",0,0,0);\n</code></pre> <p>\u6b64\u65f6\u6d4b\u8bd5\u6570\u636e\u63d2\u5165\u6548\u7387\u4e3a\uff1a 265816\u6761/s\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u63d2\u5165100000000\u6761\u6570\u636e\uff0c\u9700\u8981376\u79d2 = 6.27\u5206\u3002\u8fd9\u4e2a\u901f\u5ea6\u5df2\u7ecf\u5f88\u6ee1\u610f\u4e86\u3002</p> <p>5 \u603b\u7ed3</p> <p>\u7efc\u4e0a\u6240\u8ff0\u554a\uff0cSQLite\u63d2\u5165\u6570\u636e\u6548\u7387\u6700\u5feb\u7684\u65b9\u5f0f\u5c31\u662f\uff1a\u4e8b\u52a1+\u5173\u95ed\u5199\u540c\u6b65+\u6267\u884c\u51c6\u5907\uff08\u5b58\u50a8\u8fc7\u7a0b\uff09\uff0c\u5982\u679c\u5bf9\u6570\u636e\u5e93\u5b89\u5168\u6027\u6709\u8981\u6c42\u7684\u8bdd\uff0c\u5c31\u5f00\u542f\u5199\u540c\u6b65\u3002</p>"},{"location":"4.%E7%B4%A2%E5%BC%95/1.%E6%A8%A1%E5%9E%8B/","title":"1.\u6a21\u578b","text":"<pre><code>class Term(models.Model):  \n    \"\"\"  \n    \u5b58\u50a8\u7d22\u5f15\u8bcd\u6761  \n    \"\"\"  \n    term = models.CharField(max_length=100, verbose_name='\u8bcd\u6761') # \u8bcd\u6761  \n    document_count = models.IntegerField(verbose_name='\u51fa\u73b0\u8be5\u8bcd\u6761\u7684\u6587\u6863\u6570') # \u51fa\u73b0\u8be5\u8bcd\u6761\u7684\u6587\u6863\u6570\n</code></pre> <pre><code>class Posting(models.Model):  \n    \"\"\"  \n    \u5b58\u50a8\u5012\u6392\u7d22\u5f15  \n    \"\"\"  \n    term = models.ForeignKey(Term, on_delete=models.CASCADE, verbose_name='\u8bcd\u6761') # \u8bcd\u6761  \n    doc_id = models.ForeignKey(Document, on_delete=models.CASCADE, verbose_name='\u6587\u6863ID') # \u6587\u6863ID  \n    frequency = models.IntegerField(verbose_name='\u8bcd\u9891') # \u8bcd\u9891  \n    position = models.IntegerField(verbose_name='\u4f4d\u7f6e') # \u4f4d\u7f6e\n</code></pre>"},{"location":"4.%E7%B4%A2%E5%BC%95/2.%E5%88%86%E8%AF%8D/","title":"2.\u5206\u8bcd","text":""},{"location":"4.%E7%B4%A2%E5%BC%95/2.%E5%88%86%E8%AF%8D/#jiebastr","title":"\u4f7f\u7528jieba\u5206\u8bcd\u5bf9\u4e00\u6bb5\u5b57\u7b26\u4e32str\u8fdb\u884c\u5206\u8bcd","text":"<pre><code>import jieba\n\nstr = \"\u5982\u679c\u4f60\u662f\u4e00\u540d\u8d44\u8baf\u5de5\u4f5c\u8005\uff0c\u6216\u8005\u662f\u5728\u67d0\u4e2a\u9886\u57df\u6709\u6240\u4e13\u957f\uff0c\u90a3\u4e48\u4f60\u4e00\u5b9a\u4f1a\u7ecf\u5e38\u6d4f\u89c8\u7f51\u4e0a\u7684\u95ee\u9898\u548c\u56de\u7b54\u3002\"\n\n# \u7cbe\u786e\u6a21\u5f0f\u5206\u8bcd\nwords = jieba.cut(str, cut_all=False) \nprint(\" \".join(words))\n# \u5982\u679c \u4f60 \u662f \u4e00\u540d \u8d44\u8baf \u5de5\u4f5c\u8005 \uff0c \u6216\u8005 \u662f \u5728 \u67d0\u4e2a \u9886\u57df \u6709\u6240 \u4e13\u957f \uff0c \u90a3\u4e48 \u4f60 \u4e00\u5b9a \u4f1a \u7ecf\u5e38 \u6d4f\u89c8 \u7f51\u4e0a \u7684 \u95ee\u9898 \u548c \u56de\u7b54 \u3002\n\n# \u5168\u6a21\u5f0f\u5206\u8bcd(\u66f4\u591a\uff0c\u4f46\u662f\u5f88\u591a\u65e0\u610f\u4e49\u8bcd\u6c47)\nwords = jieba.cut(str, cut_all=True)  \nprint(\" \".join(words))\n# \u5982\u679c \u4f60 \u662f \u4e00\u540d \u8d44\u8baf \u5de5\u4f5c \u5de5\u4f5c\u8005 \u4f5c\u8005 \uff0c \u6216\u8005 \u662f \u5728 \u67d0\u4e2a \u9886\u57df \u6709\u6240 \u4e13\u957f \uff0c \u90a3\u4e48 \u4f60 \u4e00\u5b9a \u5b9a\u4f1a \u7ecf\u5e38 \u6d4f\u89c8 \u7f51\u4e0a \u7684 \u95ee\u9898 \u548c \u56de\u7b54 \u3002\n\n# \u641c\u7d22\u5f15\u64ce\u6a21\u5f0f\u5206\u8bcd\nwords = jieba.cut_for_search(str)   \nprint(\" \".join(words))\n# \u5982\u679c \u4f60 \u662f \u4e00\u540d \u8d44\u8baf \u5de5\u4f5c \u4f5c\u8005 \u5de5\u4f5c\u8005 \uff0c \u6216\u8005 \u662f \u5728 \u67d0\u4e2a \u9886\u57df \u6709\u6240 \u4e13\u957f \uff0c \u90a3\u4e48 \u4f60 \u4e00\u5b9a \u4f1a \u7ecf\u5e38 \u6d4f\u89c8 \u7f51\u4e0a \u7684 \u95ee\u9898 \u548c \u56de\u7b54 \u3002\n\n\n# \u8bcd\u6027\u6807\u6ce8 \nwords = jieba.posseg.cut(str)\nfor word, flag in words:\n    print('%s %s' % (word, flag))\n# \u6211 r    \n# \u7231 v    \n# \u5317\u4eac ns \n# \u5929\u5b89\u95e8 ns  \n\n# \u505c\u7528\u8bcd\njieba.analyse.set_stop_words(\"stop_words.txt\")  \n# \u6839\u636e\u81ea\u5b9a\u4e49stop_words.txt\u6765\u8fc7\u6ee4\u505c\u7528\u8bcd\nwords = jieba.posseg.cut(str) \nfor word, flag in words:\n    print('%s %s' % (word, flag))\n# \u5317\u4eac ns  \n# \u5929\u5b89\u95e8 ns\n</code></pre> <p><code>jieba.cut_XXX</code>\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c<code>jieba.lcut_XXX</code>\u5219\u4f1a\u8fd4\u56de\u4e00\u4e2alist\u3002</p> <p>\u8fd9\u91cc\uff0c\u9009\u7528<code>jieba.cut_for_search()</code>\u6700\u5408\u9002\u3002</p>"},{"location":"4.%E7%B4%A2%E5%BC%95/2.%E5%88%86%E8%AF%8D/#_1","title":"\u505c\u7528\u8bcd\u8bbe\u7f6e","text":"<p>\u5728<code>indexed</code>\u76ee\u5f55\u4e0b\u653e\u4e86\u4e24\u4e2a\u6587\u4ef6\uff1a<code>sign.json</code>\u548c<code>stop_words.txt</code>\u3002</p> <p>\u524d\u8005\u662f\u603b\u7ed3\u597d\u7684\u6807\u70b9\u7b26\u53f7\u7684\u96c6\u5408\uff0c\u4ee5\u4e00\u4e2alist\u5f62\u5f0f\u5b58\u50a8\uff1b\u540e\u8005\u662f\u624b\u52a8\u6dfb\u52a0\u7684\u505c\u7528\u8bcd\u96c6\u5408\uff0c\u6bcf\u4e00\u884c\u4e00\u4e2a\u8bcd\uff0c\u6ca1\u6709\u4efb\u4f55\u5206\u9694\u7b26\u3002</p> <pre><code># \u83b7\u53d6\u505c\u7528\u8bcd  \n# \u5148\u83b7\u53d6\u7b26\u53f7\u8bcd  \nstop_words = json.load(open(SIGN_WORDS_PATH, 'r', encoding='utf-8'))  \n# stop_words.txt\u6587\u4ef6\u4e2d\uff0c\u53ef\u4ee5\u4e0d\u65ad\u6dfb\u52a0\u65b0\u7684\u505c\u7528\u8bcd  \nwith open(STOP_WORDS_PATH, 'r', encoding='utf-8') as f:  \n    stop_words += f.read().splitlines()\n</code></pre>"},{"location":"4.%E7%B4%A2%E5%BC%95/2.%E5%88%86%E8%AF%8D/#_2","title":"\u4eba\u540d","text":"<p>\u5728\u6d4b\u8bd5\u65f6\u53d1\u73b0\uff0c\u5728\u5bf9\u6848\u4f8b\u5168\u6587\u8fdb\u884c\u5206\u8bcd\u65f6\uff0cjieba\u5bf9\u4eba\u540d\u7684\u652f\u6301\u5f88\u5dee\u3002</p> <pre><code># '\u4e66\u8bb0\u5458', '\u8bb8\u5929', '\u7476'\n# '\u539f\u544a', '\u97e6\u658c', '\u59ec'\n# '\u88ab\u544a', '\u97e6\u658c', '\u5f3a'\n</code></pre> <p>\u5bf9\u4e8e\u8fd9\u4e9b\u540d\u5b57\uff0c\u53ef\u4ee5\u91c7\u7528\u624b\u52a8\u6dfb\u52a0\u7528\u6237\u8bcd\u5178\u7684\u65b9\u5f0f\u652f\u6301\uff1a</p> <pre><code>jieba.add('\u8bb8\u5929\u7476')\njieba.add('\u97e6\u658c\u59ec')\njieba.add('\u97e6\u658c\u5f3a')\n</code></pre> <p>\u8003\u8651\u5230\u6211\u4eec\u5df2\u7ecf\u7528\u6a21\u578b\u7ed3\u6784\u5316\u5b58\u50a8\u597d\u4e86\u6240\u6709\u6587\u4e66\uff0c\u53ef\u4ee5\u76f4\u63a5\u4ece\u5f53\u4e8b\u4eba\u8868\u3001\u4ee3\u7406\u4eba\u8868\u548c\u5ba1\u5224\u5458\u8868\u91cc\u628a\u540d\u5b57\u6dfb\u52a0\u5230jieba\u7684\u7528\u6237\u8bcd\u5178\u4e2d\u3002</p> <pre><code># \u6d4b\u8bd5\u53d1\u73b0, jieba\u5206\u8bcd\u5bf9\u4eba\u540d\u652f\u6301\u5f88\u5dee\uff0c\u6240\u4ee5\u8fd9\u91cc\u4ece\u6570\u636e\u5e93\u624b\u52a8\u6dfb\u52a0\u4eba\u540ddict  \n# \u83b7\u53d6\u6240\u6709\u4eba\u540d\uff0c\u6784\u5efa\u4eba\u540ddict  \nparties = Party.objects.all()  \nfor party in parties:  \n    jieba.add_word(party.name)  \nagents = Agent.objects.all()  \nfor agent in agents:  \n    jieba.add_word(agent.name)  \njudges = Judge.objects.all()  \nfor judge in judges:  \n    jieba.add_word(judge.name)\n</code></pre>"},{"location":"4.%E7%B4%A2%E5%BC%95/3.%20%E5%80%92%E6%8E%92%E7%B4%A2%E5%BC%95%E5%BB%BA%E7%AB%8B/","title":"3. \u5012\u6392\u7d22\u5f15\u5efa\u7acb","text":"<p>\u904d\u5386\u6bcf\u4e2adocument\uff0c\u5c06\u5176\u5168\u6587\u8fdb\u884c\u5206\u8bcd\u540e\uff0c\u5bf9\u7ed3\u679c\u8fdb\u884c\u5904\u7406\uff1a</p> <pre><code>documents = Document.objects.all()\n    cnt = 0\n    # \u904d\u5386\u6587\u6863\n    for document in documents:\n        cnt += 1\n        print(f'\u6b63\u5728\u5904\u7406\u7b2c{cnt}/{len(documents)}\u4e2a\u6587\u6863', end='\\r')\n        # \u83b7\u53d6\u6587\u6863\u5185\u5bb9\n        content = document.full_text\n        # \u7528jieba\u5206\u8bcd\n        words = jieba.cut_for_search(content)\n        # \u53bb\u9664\u505c\u7528\u8bcd\n        words = [word for word in words if word not in stop_words]\n        # \u904d\u5386\u5206\u8bcd\u7ed3\u679c\n        visited_words = set()  # \u7528\u4e8e\u8bb0\u5f55\u5df2\u7ecf\u8bbf\u95ee\u8fc7\u7684\u8bcd\u6761\n        for word in words:\n            term = Term.objects.get_or_create(term=word, defaults={'document_count': 0})[0]\n            # \u5982\u679c\u672c\u6587\u6863\u4e2d\u7b2c\u4e00\u6b21\u8bbf\u95ee\u5230\u8be5\u8bcd\u6761\uff0c\u5219\u6587\u6863\u6570+1\n            if word not in visited_words:\n                term.document_count += 1\n                visited_words.add(word)\n            term.save()\n            # \u5efa\u7acb\u5012\u6392\u7d22\u5f15\n            posting = Posting.objects.get_or_create(term=term,\n                                                    doc_id=document,\n                                                    defaults={'frequency': 0, 'position': 0})[0]\n            posting.frequency += 1\n            posting.position = content.find(word)\n            posting.save()\n</code></pre>"},{"location":"4.%E7%B4%A2%E5%BC%95/4.%20%E7%B4%A2%E5%BC%95%E6%9F%A5%E8%AF%A2/","title":"4. \u7d22\u5f15\u67e5\u8be2","text":"<pre><code>def search(query):  \n    \"\"\"  \n    \u6839\u636equery\u5728\u5012\u6392\u7d22\u5f15\u4e2d\u641c\u7d22, \u8fd4\u56de\u6587\u6863id\u96c6\u5408  \n    \u8fd9\u91cc\u7684query\u662f\u7528\u6237\u8f93\u5165\u7684\u641c\u7d22\u5185\u5bb9\u5206\u8bcd\u540e\u7684\u7ed3\u679c\uff0c\u4ee5\u4e00\u4e2alist\u7684\u5f62\u5f0f\u4f20\u5165\uff0c\u5177\u4f53\u64cd\u4f5c\u5728search APP\u4e2d\u5b8c\u6210  \n    \"\"\"  \n    # \u83b7\u53d6query\u4e2d\u7684\u6240\u6709\u8bcd\u6761  \n    terms = Term.objects.filter(term__in=query)  \n    # \u83b7\u53d6\u6bcf\u4e2a\u8bcd\u6761\u7684\u5012\u6392\u7d22\u5f15  \n    postings = Posting.objects.filter(term__in=terms)  \n    # \u83b7\u53d6\u6bcf\u4e2a\u8bcd\u6761\u7684\u5012\u6392\u7d22\u5f15\u6240\u5bf9\u5e94\u7684\u6587\u6863id  \n    doc_ids = [posting.doc_id.id for posting in postings]  \n    # \u8fd4\u56de\u6587\u6863id\u96c6\u5408  \n    return set(doc_ids)\n</code></pre> <p>\u521b\u5efa\u4e86\u4e00\u4e2a\u6d4b\u8bd5\u63a5\u53e3 <code>test_search</code> \uff0c\u901a\u8fc7 <code>/api/test_search/?query=\u4eba\u6c11\u6cd5\u9662</code> \u53ef\u4ee5\u6d4b\u8bd5\u5012\u6392\u7d22\u5f15\u7684\u641c\u7d22\u529f\u80fd\uff0c\u8fd9\u4e2a\u63a5\u53e3\u53ea\u80fd\u7cbe\u786e\u5339\u914d\u8bcd\u6761\u3002</p>"},{"location":"5.%E5%86%85%E5%AE%B9%E6%A3%80%E7%B4%A2/%E8%A7%A3%E6%9E%90%E6%A8%A1%E5%9D%97/1./","title":"1.","text":"<p>\u8fd9\u4e2a\u6a21\u5757\u662f\u4e3a\u4e86 1. \u652f\u6301\u4e0a\u4f20\u6848\u4f8b\u6587\u4ef6\u8fdb\u884c\u76f8\u4f3c\u641c\u7d22 2. \u652f\u6301\u9ad8\u7ea7\u641c\u7d22\u8bed\u8a00</p>"},{"location":"7.%E5%89%8D%E7%AB%AF/TODO/","title":"TODO","text":"<ol> <li>\u63d0\u4f9b\u5217\u4e3e\u6cd5\u9662\u5217\u8868\u3001\u68c0\u5bdf\u9662\u5217\u8868\u3001\u4ee3\u7406\u4eba\u5217\u8868\u3001\u5f53\u4e8b\u4eba\u5217\u8868\u7b49\u63a5\u53e3\uff0c\u652f\u6301\u6309\u7167\u540d\u79f0\u7cbe\u786e\u641c\u7d22\u5b83\u4eec\u5e76\u663e\u793a\u8be6\u7ec6\u4fe1\u606f\u7684\u63a5\u53e3\u3002</li> <li>\u63d0\u4f9b\u666e\u901a\u7684query\u641c\u7d22\u3002</li> <li>\u641c\u7d22\u7ed3\u679c\u8fd4\u56de\u5206\u4e24\u90e8\u5206\uff0c\u628afull_text_result\u653e\u5728\u641c\u7d22\u7ed3\u679c\uff0c\u628akey_word_result\u653e\u5728\u53f3\u8fb9\u8868\u793a\u76f8\u4f3c\u63a8\u8350\u3002</li> <li>\u63d0\u4f9b\u4e0a\u4f20\u6587\u4ef6\u7684\u63a5\u53e3\uff0c\u53ef\u4ee5\u4e0a\u4f20xml\u6587\u4ef6\u3002</li> <li>\u5206\u6790\u4e0e\u53ef\u89c6\u5316\u3002</li> </ol>"}]}